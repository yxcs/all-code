<!DOCTYPE html>
<html>
  <head>
    <title>chrome.tts - Google Chrome 扩展程序开发文档（非官方中文版）</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="../static/css/site.css" rel="stylesheet" type="text/css">
    <link href="../../developer.chrome.com/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../developer.chrome.com/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  </head>

  <body>


<!-- Copyright  2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  12/24/13 11:31:36.<br>
<b>Address:</b> <a class="info" href="https://crxdoc-zh.appspot.com/extensions/tts.html">https://crxdoc-zh.appspot.com/extensions/tts.html</a><br>
<b>Title:</b> chrome.tts - Google Chrome 扩展程序开发文档（非官方中文版） &nbsp;&bull;&nbsp; <b>Size:</b> 55717<br></div>
<!-- /Copyright  2005. Spidersoft Ltd -->


    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="extensions.html" title="Google Chrome 扩展程序" id="view-original">
          <img src="../../developer.chrome.com/static/images/chrome-logo.png" alt=""> chrome
        </a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            扩展程序 &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html"><!--@apps-->应用</button>
            <button class="extensions" data-href="/extensions"><!--@extensions-->扩展程序</button>
          </div>
        </div>（非官方中文版）
      </td>
      <td>
        <ul>
          <li>
            <a href="samples.html"
               title="示例 扩展程序（包含源代码）"><!--@Samples-->示例</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions"
               title="Google Chrome 扩展程序开发者论坛"
               target="_blank"><!--@Group-->论坛（英文）</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-extension/info"
               title="Stack Overflow 上的 [google-chrome-extension] 标签"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <g:plusone></g:plusone>
        <ul 
            class="level1 ">
        <li class="level2">
              <a href="getstarted.html" class="level2 ">入门</a>
        </li><li class="level2">
              <a href="overview.html" class="level2 ">概述</a>
        </li><li class="level2">
              <a href="whats_new.html" class="level2 ">新增功能</a>
        </li><li class="level2">
              <a href="devguide.html" class="level2 ">开发者指南</a>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">浏览器用户界面</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="browserAction.html" class="level4 ">浏览器按钮</a>
            </li><li class="level4">
                  <a href="contextMenus.html" class="level4 ">右键菜单</a>
            </li><li class="level4">
                  <a href="desktop_notifications.html" class="level4 ">桌面通知</a>
            </li><li class="level4">
                  <a href="omnibox.html" class="level4 ">多功能框</a>
            </li><li class="level4">
                  <a href="options.html" class="level4 ">选项页面</a>
            </li><li class="level4">
                  <a href="override.html" class="level4 ">替代页面</a>
            </li><li class="level4">
                  <a href="pageAction.html" class="level4 ">页面按钮</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">浏览器交互</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="bookmarks.html" class="level4 ">书签</a>
            </li><li class="level4">
                  <a href="cookies.html" class="level4 ">Cookie</a>
            </li><li class="level4">
                  <a href="devtools.html" class="level4 ">扩展开发者工具</a>
            </li><li class="level4">
                  <a href="events.html" class="level4 ">事件</a>
            </li><li class="level4">
                  <a href="history.html" class="level4 ">历史记录</a>
            </li><li class="level4">
                  <a href="management.html" class="level4 ">管理</a>
            </li><li class="level4">
                  <a href="tabs.html" class="level4 ">标签页</a>
            </li><li class="level4">
                  <a href="windows.html" class="level4 ">窗口</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">实现</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="a11y.html" class="level4 ">辅助功能</a>
            </li><li class="level4">
                  <a href="event_pages.html" class="level4 ">事件页面</a>
            </li><li class="level4">
                  <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略</a>
            </li><li class="level4">
                  <a href="content_scripts.html" class="level4 ">内容脚本</a>
            </li><li class="level4">
                  <a href="xhr.html" class="level4 ">跨站 XHR</a>
            </li><li class="level4">
                  <a href="i18n.html" class="level4 ">国际化支持</a>
            </li><li class="level4">
                  <a href="messaging.html" class="level4 ">消息传递</a>
            </li><li class="level4">
                  <a href="permissions.html" class="level4 ">可选权限</a>
            </li><li class="level4">
                  <a href="npapi.html" class="level4 ">NPAPI 插件</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">完成</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="hosting.html" class="level4 ">托管</a>
            </li><li class="level4">
                  <a href="external_extensions.html" class="level4 ">其他发布选项</a>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <a href="tutorials.html" class="level2 ">教程</a>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件版本 2</a>
          </li><li class="level3">
                <a href="tut_debugging.html" class="level3 ">调试</a>
          </li><li class="level3">
                <a href="tut_analytics.html" class="level3 ">Google Analytics（分析）</a>
          </li><li class="level3">
                <a href="tut_oauth.html" class="level3 ">OAuth</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">参考</span>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">格式</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="manifest.html" class="level4 ">清单文件</a>
            </li><li class="level4">
                  <a href="match_patterns.html" class="level4 ">匹配表达式</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="permission_warnings.html" class="level3 ">权限警告</a>
          </li><li class="level3">
                <a href="api_index.html" class="level3 ">chrome.* API</a>
          </li><li class="level3">
                <a href="api_other.html" class="level3 ">其他 API</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">更多</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="faq.html" class="level3 ">常见问题</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome 网上应用店</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用</a>
          </li><li class="level3">
                <a href="themes.html" class="level3 ">主题背景</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<h1>chrome.tts</h1>
<div id="toc">
  <ol>
    <li >
      <a href="#overview"
         data-list-item
         >概述</a>
    </li>
    <li >
      <a href="#generating_speech"
         data-list-item
         >朗读</a>
    </li>
    <li >
      <a href="#events"
         data-list-item
         >监听事件</a>
    </li>
    <li >
      <a href="#ssml"
         data-list-item
         >SSML 标记</a>
    </li>
    <li >
      <a href="#choosing_voice"
         data-list-item
         >选择语音</a>
    </li>
    <li class="separator">
      <a href="#types"
         data-list-item
         >类型</a>
      <ol>
        <li >
          <a href="#type-TtsEvent"
             data-list-item
             >TtsEvent</a>
        </li>
        <li >
          <a href="#type-TtsVoice"
             data-list-item
             >TtsVoice</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="#methods"
         data-list-item
         >方法</a>
      <ol>
        <li >
          <a href="#method-speak"
             data-list-item
             >speak        </a>
        </li>
        <li >
          <a href="#method-stop"
             data-list-item
             >stop        </a>
        </li>
        <li >
          <a href="#method-pause"
             data-list-item
             >pause        </a>
        </li>
        <li >
          <a href="#method-resume"
             data-list-item
             >resume        </a>
        </li>
        <li >
          <a href="#method-isSpeaking"
             data-list-item
             >isSpeaking        </a>
        </li>
        <li >
          <a href="#method-getVoices"
             data-list-item
             >getVoices        </a>
        </li>
      </ol>
    </li>
  </ol>
</div>

<table class="intro" id="intro">
  <tr>
    <td class="title">描述<!--@:-->：</td>
    <td>
        使用 <code>chrome.tts</code> API 播放合成的文字语音转换（TTS），同时请您参见相关的 <a href='../extensions/ttsEngine.html'>ttsEngine</a> API，允许扩展程序实现语音引擎。
                <br>
    </td>
  </tr>
  <tr>
    <td class="title">可用版本<!--@:-->：</td>
    <td>
        <!--@Stable since-->从 Chrome 14<!--@.--> 开始稳定支持。
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">权限<!--@:-->：</td>
    <td>
        <span class="code">
        "tts"
                </span>
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">了解更多<!--@:-->：</td>
    <td>
        <a href="https://developers.google.com/live/shows/7320022-7001/">
        Chrome 浏览器办公时间：文字语音转换 API
                </a>
        <br>
    </td>
  </tr>
</table>
<section>
<h2 id="overview"><!--@Overview-->概述</h2>

<p><!--@Chrome provides native support for speech on Windows (using SAPI
5), Mac OS X, and Chrome OS, using speech synthesis capabilities
provided by the operating system. On all platforms, the user can
install extensions that register themselves as alternative speech
engines.-->
Chrome 浏览器在 Windows（使用 SAPI 5）、Mac OS X 和 Chrome OS
上使用操作系统提供的语音合成功能提供原生支持。在所有平台上，用户都可以安装注册为替代语音引擎的扩展程序。
</p>

<h2 id="generating_speech"><!--@Generating speech-->朗读</h2>

<p><!--@Call <code>speak()</code> from your extension or
Chrome App to speak. For example:-->
从您的扩展程序或 Chrome 应用中调用
<code>speak()</code>
开始朗读。例如：
</p>

<pre>chrome.tts.speak('您好！');</pre>

<p><!--@To stop speaking immediately, just call <code>stop()</code>:-->
要立刻停止朗读，只要调用<code>stop()</code>：

<pre>chrome.tts.stop();</pre>

<p><!--@You can provide options that control various properties of the speech,
such as its rate, pitch, and more. For example:-->
您可以提供选项，控制语音的多种属性，例如速率、音调等等。例如：
</p>

<pre>chrome.tts.speak('您好！', {'rate': 2.0});</pre>

<p><!--@It's also a good idea to specify the language so that a synthesizer
supporting that language (and regional dialect, if applicable) is chosen.-->
最好指定语言，这样会选择支持那种语言（以及方言，如果可用的话）的合成器。
</p>

<pre>chrome.tts.speak(
    '您好！', {'lang': 'zh-CN', 'rate': 2.0});</pre>

<p><!--@By default, each call to <code>speak()</code> interrupts any
ongoing speech and speaks immediately. To determine if a call would be
interrupting anything, you can call <code>isSpeaking()</code>.  In
addition, you can use the <code>enqueue</code> option to cause this
utterance to be added to a queue of utterances that will be spoken
when the current utterance has finished.-->
默认情况下每一次调用 <code>speak()</code>
都会中断当前正在进行的朗读，并立刻开始新的朗读。要确定某次调用是否会中断当前的朗读，您可以调用
<code>isSpeaking()</code>。此外，您可以使用
<code>enqueue</code>
选项，将这一次朗读添加到队列中，等到当前朗读完成后再朗读队列中的内容。
</p>

<pre>chrome.tts.speak(
    '先说这句话。');
chrome.tts.speak(
    '等第一句话完成后再说这句话。', {'enqueue': true});
</pre>

<p><!--@A complete description of all options can be found in the-->
所有选项的完整描述可以在下面的
<a href="https://crxdoc-zh.appspot.com/extensions/tts.html#method-speak">speak() 方法文档</a> <!--@below.
Not all speech engines will support all options.-->
中找到，不是所有的语音引擎都会支持所有选项。
</p>

<p><!--@To catch errors and make sure you're calling <code>speak()</code>
correctly, pass a callback function that takes no arguments. Inside
the callback, check
<a href="https://crxdoc-zh.appspot.com/extensions/runtime.html#property-lastError">runtime.lastError</a>
to see if there were any errors.-->
要捕捉错误并确保您正确调用了
<code>speak()</code>，请传递一个没有参数的回调函数。在回调函数中，检查
<a href="https://crxdoc-zh.appspot.com/extensions/runtime.html#property-lastError">runtime.lastError</a>
确定是否发生错误。
</p>

<pre>chrome.tts.speak(
    utterance,
    options,
    function() {
      if (chrome.runtime.lastError) {
        console.log('错误：' + chrome.runtime.lastError.message);
      }
    });</pre>

<p><!--@The callback returns right away, before the engine has started
generating speech. The purpose of the callback is to alert you to
syntax errors in your use of the TTS API, not to catch all possible
errors that might occur in the process of synthesizing and outputting
speech. To catch these errors too, you need to use an event listener,
described below.-->
回调函数在引擎开始朗读前就立刻返回。这一回调函数的目的是提醒您在使用
TTS API
过程中的语法错误，而不是用来捕捉在合成和输出语音的过程中可能发生的错误。要捕捉这些错误，您应该使用事件处理，这将在下面描述。
</p>

<h2 id="events"><!--@Listening to events-->监听事件</h2>

<p><!--@To get more real-time information about the status of synthesized speech,
pass an event listener in the options to <code>speak()</code>, like this:-->
要获得有关语音合成状态的实时信息，请在
<code>speak()</code>
的选项中传递一个事件监听器，如下列代码所示：
</p>

<pre>chrome.tts.speak(
    utterance,
    {
      onEvent: function(event) {
        console.log('在位置 ' + event.charIndex ' 处产生事件 ' + event.type);
        if (event.type == 'error') {
          console.log('错误：' + event.errorMessage);
        }
      }
    },
    callback);</pre>

<p><!--@Each event includes an event type, the character index of the current
speech relative to the utterance, and for error events, an optional
error message. The event types are:-->
每一个事件包含事件类型、当前正在朗读的字符位置。对于错误事件，还有可选的错误消息。事件类型有：
</p>

<ul>
  <li><code>'start'</code><!--@: The engine has started speaking the utterance.-->：引擎开始朗读。
  <li><code>'word'</code><!--@: A word boundary was reached. Use
          <code>event.charIndex</code> to determine the current speech
          position.-->：遇到单词边界。使用
          <code>event.charIndex</code>
          确定当前朗读位置。
  <li><code>'sentence'</code><!--@: A sentence boundary was reached. Use
          <code>event.charIndex</code> to determine the current speech
          position.-->：遇到句子边界。使用
          <code>event.charIndex</code>
          确定当前朗读位置。
  <li><code>'marker'</code><!--@: An SSML marker was reached. Use
          <code>event.charIndex</code> to determine the current speech
          position.-->：遇到 SSML 标记。使用
          <code>event.charIndex</code>
          确定当前朗读位置。
  <li><code>'end'</code><!--@: The engine has finished speaking the utterance.-->：引擎已完成朗读。
  <li><code>'interrupted'</code><!--@: This utterance was interrupted by another
          call to <code>speak()</code> or <code>stop()</code> and did not
          finish.-->：本次朗读由于另一个
          <code>speak()</code> 调用或
          <code>stop()</code> 调用而中断，并且没有完成。
  <li><code>'cancelled'</code><!--@: This utterance was queued, but then
          cancelled by another call to <code>speak()</code> or
          <code>stop()</code> and never began to speak at all.-->：朗读已放入队列，但后来由于另一个
          <code>speak()</code> 调用或
          <code>stop()</code> 调用中断，而从未开始朗读。
  <li><code>'error'</code><!--@: An engine-specific error occurred and
          this utterance cannot be spoken.
          Check <code>event.errorMessage</code> for details.-->：发生了引擎特定的错误，无法开始朗读。有关详情请检查
          <code>event.errorMessage</code>。
</ul>

<p><!--@Four of the event types&mdash;<code>'end'</code>, <code>'interrupted'</code>,
<code>'cancelled'</code>, and <code>'error'</code>&mdash;are <i>final</i>.
After one of those events is received, this utterance will no longer
speak and no new events from this utterance will be received.-->
这些事件类型中有四个——<code>'end'</code>、<code>'interrupted'</code>、<code>'cancelled'</code>
和 <code>'error'</code>
表示最终结果。发生这些事件中的某一个后，不会再朗读，也不会再收到其他事件。
</p>

<p><!--@Some voices may not support all event types, and some voices may not
send any events at all. If you do not want to use a voice unless it sends
certain events, pass the events you require in the
<code>requiredEventTypes</code> member of the options object, or use
<code>getVoices()</code> to choose a voice that meets your requirements.
Both are documented below.-->
某些语音可能不支持所有事件类型，某些语音甚至可能不发送任何事件。如果您需要语音发送某些事件，将您需要的事件放在选项对象的
<code>requiredEventTypes</code>
属性中，或者使用
<code>getVoices()</code>
选择符合您要求的语音。以下有它们的详细文档。
</p>

<h2 id="ssml">SSML <!--@markup-->标记</h2>

<p><!--@Utterances used in this API may include markup using the
<a href="http://www.w3.org/TR/speech-synthesis">Speech Synthesis Markup
Language (SSML)</a>. If you use SSML, the first argument to
<code>speak()</code> should be a complete SSML document with an XML
header and a top-level <code>&lt;speak&gt;</code> tag, not a document
fragment.-->
这一 API 中使用的朗读内容可以包含使用<a href="http://www.w3.org/TR/speech-synthesis"
>语音合成标记语言（SSML）</a>（英文）的标记。如果您使用
SSML，<code>speak()</code>
的第一个参数应该是一个具有 XML 头和顶级
<code>&lt;speak&gt;</code>
标签的完整 SSML 文档，而不是文档片段。
</p>

<p><!--@For example:-->例如：</p>

<pre>chrome.tts.speak(
    '&lt;?xml version="1.0"?&gt;' +
    '&lt;speak&gt;' +
    '  这一句话中第&lt;emphasis&gt;七&lt;/emphasis&gt; ' +
    '  个字要强调。' +
    '&lt;/speak&gt;');</pre>

<p><!--@Not all speech engines will support all SSML tags, and some may not support
SSML at all, but all engines are required to ignore any SSML they don't
support and to still speak the underlying text.-->
不是所有的语音引擎都支持所有 SSML 标记，甚至有一些可能完全不支持
SSML，但是所有引擎都会忽略它们不支持的 SSML 并继续朗读其中的文字。
</p>

<h2 id="choosing_voice"><!--@Choosing a voice-->选择语音</h2>

<p><!--@By default, Chrome chooses the most appropriate voice for each
utterance you want to speak, based on the language and gender. On most
Windows, Mac OS X, and Chrome OS systems, speech synthesis provided by
the operating system should be able to speak any text in at least one
language. Some users may have a variety of voices available, though,
from their operating system and from speech engines implemented by other
Chrome extensions. In those cases, you can implement custom code to choose
the appropriate voice, or to present the user with a list of choices.-->
默认情况下，Chrome
浏览器基于语言和性别选择您要朗读的内容所对应的最合适的语音。在大部分
Windows、Mac OS X 和 Chrome OS
系统上，操作系统提供的语音合成功能至少能用一种语言朗读任何文本，而某些用户可能会有多种可用的语音，来自操作系统或其他
Chrome
扩展程序实现的语音引擎。在这样的情况下，您可以实现自定义代码，选择合适的语音，或向用户展现可选的语音。
</p>

<p><!--@To get a list of all voices, call <code>getVoices()</code> and pass it
a function that receives an array of <code>TtsVoice</code> objects as its
argument:-->
要获得所有语音的列表，请调用
<code>getVoices()</code>
并传递一个接受
<code>TtsVoice</code>
对象数组为参数的函数：
</p>

<pre>chrome.tts.getVoices(
    function(voices) {
      for (var i = 0; i < voices.length; i++) {
        console.log('第 ' + i + ' 种语音：');
        console.log('  名称：' + voices[i].voiceName);
        console.log('  语言：' + voices[i].lang);
        console.log('  性别：' + voices[i].gender);
        console.log('  扩展程序标识符：' + voices[i].extensionId);
        console.log('  事件类型：' + voices[i].eventTypes);
}
});</pre>
</section>
<section>
<h2 id="api-reference-header" title="">chrome.tts <!--@reference-->参考</h2>
<div class="api_reference">
    <h2 id="types"><!--@Types-->类型</h2>
      <div>
        <h3 id="type-TtsEvent">TtsEvent</h3>
        <div>
          <dd>来自 TTS 引擎的事件，通知朗读状态。</dd>
            <h3 id="TtsEvent-properties" class="capitalize" title="">
              <a href="#type-TtsEvent">TtsEvent</a>
              的属性
            </h3>
            <dd>
              <dl>
                <div>
                  <a name="property-TtsEvent-type"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsEvent-type" title="">
                        type
                        <span class="property">
                          (
                            enum of <code>"start"</code>, <code>"end"</code>, <code>"word"</code>, <code>"sentence"</code>, <code>"marker"</code>, <code>"interrupted"</code>, <code>"cancelled"</code>, <code>"error"</code>, <code>"pause"</code>, or <code>"resume"</code>
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      类型可以为：<br>'start'：朗读刚开始；<br>'word'：遇到词语边界；<br>'sentence'：遇到句子边界；<br>'marker'：遇到 SSML 标记元素；<br>'end'：朗读完成；<br>'interrupted'：朗读停止或在到达结尾前中断；<br>'cancelled'：朗读在合成前就从队列中移除；<br>'error'：发生错误。<br>暂停语音时，如果某一次朗读从中间暂停了则产生 'pause' 事件，朗读恢复时产生 'resume' 事件。注意，如果语音在两次朗读之间暂停，可能不会产生暂停和恢复事件。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsEvent-charIndex"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsEvent-charIndex" title="">
                        charIndex
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            double
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      当前朗读的字符索引。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsEvent-errorMessage"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsEvent-errorMessage" title="">
                        errorMessage
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      如果事件类型为 'error'，则包含错误描述。
                    </dd>
                  </dl>
                </div>
              </dl>
            </dd>
        </div>
      </div>
      <div>
        <h3 id="type-TtsVoice">TtsVoice</h3>
        <div>
          <dd>描述可用于语音合成的语音。</dd>
            <h3 id="TtsVoice-properties" class="capitalize" title="">
              <a href="#type-TtsVoice">TtsVoice</a>
              的属性
            </h3>
            <dd>
              <dl>
                <div>
                  <a name="property-TtsVoice-voiceName"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-voiceName" title="">
                        voiceName
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      语音的名称。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsVoice-lang"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-lang" title="">
                        lang
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      语音支持的语言，以<em>语言</em>-<em>区域</em>的形式表示。例如：'zh-CN'、'en'、'en-US'、'en-GB'。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsVoice-gender"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-gender" title="">
                        gender
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            enum of <code>"male"</code>, or <code>"female"</code>
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      语音的性别，"male" 表示男性，"female" 表示女性。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsVoice-remote"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-remote" title="">
                        remote
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            boolean
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      如果为 true，综合引擎是远程网络资源，可能有较高的延迟并且会增加带宽的开销。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsVoice-extensionId"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-extensionId" title="">
                        extensionId
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      提供语音的扩展程序的标识符。
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-TtsVoice-eventTypes"></a>
                  <dl>
                    <dt>
                      <h4 id="property-TtsVoice-eventTypes" title="">
                        eventTypes
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      这一语音能够发送的所有回调事件类型。
                    </dd>
                  </dl>
                </div>
              </dl>
            </dd>
        </div>
      </div>
    <h2 id="methods"><!--@Methods-->方法</h2>
      <div>
        <h3
            id="method-speak"
            >speak
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.speak</span>(<span>string utterance</span>, <span class="optional">object options</span>, <span class="optional">function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            使用文字语音转换朗读文本。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-speak-utterance"></a>
                <dl>
                  <dt>
                    <h4 id="property-speak-utterance" title="">
                      utterance
                      <span class="property">
                        (
                          string
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                    要朗读的文本，既可以是纯文本，也可以是完整的、形式正确的 SSML 文档。不支持 SSML 的语音引擎会忽略标签只朗读文本。这一文本的最大长度为 32 768 个字符。
                  </dd>
                </dl>
              </div>
              <div>
                <a name="property-speak-options"></a>
                <dl>
                  <dt>
                    <h4 id="property-speak-options" title="">
                      options
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          object
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                    朗读选项。
                  </dd>
                </dl>
                <dd>
                  <h4 title=""><!--@Properties-->属性</h4>
                  <dl>
                    <div>
                      <a name="property-options-enqueue"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-enqueue" title="">
                            enqueue
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                boolean
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          如果为 true，若当前 TTS 正在朗读则将这一次朗读放入队列。如果为 false（默认值），则中断当前的朗读，清理语音队列，然后朗读新的文本。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-voiceName"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-voiceName" title="">
                            voiceName
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                string
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          用来合成的语音名称。如果为空，使用任何可用的语音。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-extensionId"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-extensionId" title="">
                            extensionId
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                string
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          要使用的语音引擎扩展程序的标识符，如果已知的话。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-lang"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-lang" title="">
                            lang
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                string
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          用于合成的语言，以<em>语言</em>-<em>区域</em>的形式。例如：'zh-CN'、'en'、'en-US'、'en-GB'。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-gender"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-gender" title="">
                            gender
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                enum of <code>"male"</code>, or <code>"female"</code>
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          语音合成所使用的性别，"male" 表示男性，"female" 表示女性。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-rate"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-rate" title="">
                            rate
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                double
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          朗读速率，相对于这一语音的默认速率。1.0 表示默认速率，通常为每分钟 180 至 220 个单词。2.0 表示快一倍，而 0.5 是默认速率的一半。不允许 0.1 以下的值或者 10.0 以上的值，并且许多语音会进一步限制最低和最高速率，例如某种语音也许不可能朗读地比默认速率快三倍，即使您指定了大于 3.0 的值。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-pitch"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-pitch" title="">
                            pitch
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                double
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          指定 0 到 2 之间（包括 0 和 2）的声调，0 表示最低，2 表示最高，1.0 对应于语音的默认声调。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-volume"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-volume" title="">
                            volume
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                double
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          0 到 1 之间（包括 0 和 1）的朗读音量，0 为最低，1 为最高，默认为 1.0。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-requiredEventTypes"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-requiredEventTypes" title="">
                            requiredEventTypes
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                array of string
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          语音必须支持的 TTS 事件类型。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-desiredEventTypes"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-desiredEventTypes" title="">
                            desiredEventTypes
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                array of string
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          您需要处理的 TTS 事件类型。如果省略，会发送所有事件。
                        </dd>
                      </dl>
                    </div><div>
                      <a name="property-options-onEvent"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-onEvent" title="">
                            onEvent
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                function
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          该函数将在朗读过程中发生事件时调用。
                        </dd>
                      </dl>
                      <dd>
                        <dl>
                          <h4 title=""><!--@Parameters-->参数</h4>
                          <div>
                            <a name="property-onEvent-event"></a>
                            <dl>
                              <dt>
                                <h4 id="property-onEvent-event" title="">
                                  event
                                  <span class="property">
                                    (
                                      <a href="https://crxdoc-zh.appspot.com/extensions/tts.html#type-TtsEvent">TtsEvent</a>
                                    )
                                  </span>
                                </h4>
                              </dt>
                              <dd>
                                来自 TTS 引擎的更新事件，指示当前朗读的状态。
                              </dd>
                            </dl>
                          </div>
                        </dl>
                      </dd>
                    </div>
                  </dl>
                </dd>
              </div>
              <div>
                <a name="property-speak-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-speak-callback" title="">
                      callback
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                    在朗读完成前立即调用。检查 <a href="https://crxdoc-zh.appspot.com/extensions/runtime.html#property-lastError">runtime.lastError</a> 确保没有错误发生。使用 options.onEvent 获得更详细的反馈。
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@If you specify the <em>callback</em> parameter, it should
                  specify a function that looks like this:-->
                  如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
            </p>
            <pre>function() <span class="subdued">{...}</span>;</pre>
        </div>
      </div>
      <div>
        <h3
            id="method-stop"
            >stop
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.stop</span>()
        </div>
        </div>
        <div class="description">
          <p>
            停止当前的朗读，并清空未完成朗读的队列。此外，如果朗读暂停了，则会取消暂停，以便下一次调用时朗读。
          </p>
        </div>
      </div>
      <div>
        <h3
            id="method-pause"
            >pause
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.pause</span>()
        </div>
        </div>
        <div class="description">
          <p>
            暂停语音合成，可能正处于一次朗读的中间。调用 resume 或 stop 会取消暂停朗读。
          </p>
        </div>
      </div>
      <div>
        <h3
            id="method-resume"
            >resume
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.resume</span>()
        </div>
        </div>
        <div class="description">
          <p>
            如果朗读暂停了，从暂停的位置恢复朗读。
          </p>
        </div>
      </div>
      <div>
        <h3
            id="method-isSpeaking"
            >isSpeaking
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.isSpeaking</span>(<span class="optional">function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            检查引擎当前是否正在朗读。在 Mac OS X 中，只要系统的语音引擎正在朗读，即使此次朗读并不是由 Chrome 浏览器发起的，结果也是 true。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-isSpeaking-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-isSpeaking-callback" title="">
                      callback
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@If you specify the <em>callback</em> parameter, it should
                  specify a function that looks like this:-->
                  如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
            </p>
            <pre>function(boolean speaking) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-speaking"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-speaking" title="">
                        speaking
                        <span class="property">
                          (
                            boolean
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      如果正在朗读则为 true ，否则为 false。
                    </dd>
                  </dl>
                </div>
            </dl>
        </div>
      </div>
      <div>
        <h3
            id="method-getVoices"
            >getVoices
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.tts.getVoices</span>(<span class="optional">function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            获得包含所有可用语音的数组。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-getVoices-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-getVoices-callback" title="">
                      callback
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@If you specify the <em>callback</em> parameter, it should
                  specify a function that looks like this:-->
                  如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
            </p>
            <pre>function(array of <a href="https://crxdoc-zh.appspot.com/extensions/tts.html#type-TtsVoice">TtsVoice</a> voices) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-voices"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-voices" title="">
                        voices
                        <span class="property">
                          (
                            array of <a href="https://crxdoc-zh.appspot.com/extensions/tts.html#type-TtsVoice">TtsVoice</a>
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      包含 <a href="https://crxdoc-zh.appspot.com/extensions/tts.html#type-TtsVoice">TtsVoice</a> 对象的数组，代表语音合成可用的语音。
                    </dd>
                  </dl>
                </div>
            </dl>
        </div>
      </div>
</div>
</section>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">↑</button>
    <button class="google-button" id="send-feedback" style="display:none">Send Feedback</button>
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p class="crxdoczh-footer">
        <a href="https://code.google.com/p/crxdoczh/">crxdoczh 项目主页</a>
        <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">发送反馈</a>
        <a href="" rel="publisher">
          Google+ 页面
        </a>
        <a href="https://plus.google.com/communities/105384952265487436177">Google+ 社群</a>
      </p>
      <script src="../../developer.chrome.com/static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/popup.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/prettify.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/scroll.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/sidebar.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25062424-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = 'https://ssl.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        window.___gcfg = {
          lang: 'zh-CN'
        };
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>
    </div>
  </div>
</html>
