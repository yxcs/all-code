<!DOCTYPE html>
<html>
  <head>
    <title>chrome.declarativeContent - Google Chrome æ‰©å±•ç¨‹åºå¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="../static/css/site.css" rel="stylesheet" type="text/css">
    <link href="../../developer.chrome.com/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../developer.chrome.com/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  </head>

  <body>


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  12/24/13 11:31:36.<br>
<b>Address:</b> <a class="info" href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html">https://crxdoc-zh.appspot.com/extensions/declarativeContent.html</a><br>
<b>Title:</b> chrome.declarativeContent - Google Chrome æ‰©å±•ç¨‹åºå¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰ &nbsp;&bull;&nbsp; <b>Size:</b> 29993<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->


    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="extensions.html" title="Google Chrome æ‰©å±•ç¨‹åº" id="view-original">
          <img src="../../developer.chrome.com/static/images/chrome-logo.png" alt=""> chrome
        </a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            æ‰©å±•ç¨‹åº &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html"><!--@apps-->åº”ç”¨</button>
            <button class="extensions" data-href="/extensions"><!--@extensions-->æ‰©å±•ç¨‹åº</button>
          </div>
        </div>ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰
      </td>
      <td>
        <ul>
          <li>
            <a href="samples.html"
               title="ç¤ºä¾‹ æ‰©å±•ç¨‹åºï¼ˆåŒ…å«æºä»£ç ï¼‰"><!--@Samples-->ç¤ºä¾‹</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions"
               title="Google Chrome æ‰©å±•ç¨‹åºå¼€å‘è€…è®ºå›"
               target="_blank"><!--@Group-->è®ºå›ï¼ˆè‹±æ–‡ï¼‰</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-extension/info"
               title="Stack Overflow ä¸Šçš„ [google-chrome-extension] æ ‡ç­¾"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <g:plusone></g:plusone>
        <ul 
            class="level1 ">
        <li class="level2">
              <a href="getstarted.html" class="level2 ">å…¥é—¨</a>
        </li><li class="level2">
              <a href="overview.html" class="level2 ">æ¦‚è¿°</a>
        </li><li class="level2">
              <a href="whats_new.html" class="level2 ">æ–°å¢åŠŸèƒ½</a>
        </li><li class="level2">
              <a href="devguide.html" class="level2 ">å¼€å‘è€…æŒ‡å—</a>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">æµè§ˆå™¨ç”¨æˆ·ç•Œé¢</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="browserAction.html" class="level4 ">æµè§ˆå™¨æŒ‰é’®</a>
            </li><li class="level4">
                  <a href="contextMenus.html" class="level4 ">å³é”®èœå•</a>
            </li><li class="level4">
                  <a href="desktop_notifications.html" class="level4 ">æ¡Œé¢é€šçŸ¥</a>
            </li><li class="level4">
                  <a href="omnibox.html" class="level4 ">å¤šåŠŸèƒ½æ¡†</a>
            </li><li class="level4">
                  <a href="options.html" class="level4 ">é€‰é¡¹é¡µé¢</a>
            </li><li class="level4">
                  <a href="override.html" class="level4 ">æ›¿ä»£é¡µé¢</a>
            </li><li class="level4">
                  <a href="pageAction.html" class="level4 ">é¡µé¢æŒ‰é’®</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">æµè§ˆå™¨äº¤äº’</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="bookmarks.html" class="level4 ">ä¹¦ç­¾</a>
            </li><li class="level4">
                  <a href="cookies.html" class="level4 ">Cookie</a>
            </li><li class="level4">
                  <a href="devtools.html" class="level4 ">æ‰©å±•å¼€å‘è€…å·¥å…·</a>
            </li><li class="level4">
                  <a href="events.html" class="level4 ">äº‹ä»¶</a>
            </li><li class="level4">
                  <a href="history.html" class="level4 ">å†å²è®°å½•</a>
            </li><li class="level4">
                  <a href="management.html" class="level4 ">ç®¡ç†</a>
            </li><li class="level4">
                  <a href="tabs.html" class="level4 ">æ ‡ç­¾é¡µ</a>
            </li><li class="level4">
                  <a href="windows.html" class="level4 ">çª—å£</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">å®ç°</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="a11y.html" class="level4 ">è¾…åŠ©åŠŸèƒ½</a>
            </li><li class="level4">
                  <a href="event_pages.html" class="level4 ">äº‹ä»¶é¡µé¢</a>
            </li><li class="level4">
                  <a href="contentSecurityPolicy.html" class="level4 ">å†…å®¹å®‰å…¨ç­–ç•¥</a>
            </li><li class="level4">
                  <a href="content_scripts.html" class="level4 ">å†…å®¹è„šæœ¬</a>
            </li><li class="level4">
                  <a href="xhr.html" class="level4 ">è·¨ç«™ XHR</a>
            </li><li class="level4">
                  <a href="i18n.html" class="level4 ">å›½é™…åŒ–æ”¯æŒ</a>
            </li><li class="level4">
                  <a href="messaging.html" class="level4 ">æ¶ˆæ¯ä¼ é€’</a>
            </li><li class="level4">
                  <a href="permissions.html" class="level4 ">å¯é€‰æƒé™</a>
            </li><li class="level4">
                  <a href="npapi.html" class="level4 ">NPAPI æ’ä»¶</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">å®Œæˆ</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="hosting.html" class="level4 ">æ‰˜ç®¡</a>
            </li><li class="level4">
                  <a href="external_extensions.html" class="level4 ">å…¶ä»–å‘å¸ƒé€‰é¡¹</a>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <a href="tutorials.html" class="level2 ">æ•™ç¨‹</a>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="tut_migration_to_manifest_v2.html" class="level3 ">æ¸…å•æ–‡ä»¶ç‰ˆæœ¬ 2</a>
          </li><li class="level3">
                <a href="tut_debugging.html" class="level3 ">è°ƒè¯•</a>
          </li><li class="level3">
                <a href="tut_analytics.html" class="level3 ">Google Analyticsï¼ˆåˆ†æï¼‰</a>
          </li><li class="level3">
                <a href="tut_oauth.html" class="level3 ">OAuth</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å‚è€ƒ</span>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">æ ¼å¼</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="manifest.html" class="level4 ">æ¸…å•æ–‡ä»¶</a>
            </li><li class="level4">
                  <a href="match_patterns.html" class="level4 ">åŒ¹é…è¡¨è¾¾å¼</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="permission_warnings.html" class="level3 ">æƒé™è­¦å‘Š</a>
          </li><li class="level3">
                <a href="api_index.html" class="level3 ">chrome.* API</a>
          </li><li class="level3">
                <a href="api_other.html" class="level3 ">å…¶ä»– API</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">æ›´å¤š</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="faq.html" class="level3 ">å¸¸è§é—®é¢˜</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome ç½‘ä¸Šåº”ç”¨åº—</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">æ‰˜ç®¡åº”ç”¨</a>
          </li><li class="level3">
                <a href="themes.html" class="level3 ">ä¸»é¢˜èƒŒæ™¯</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<p class="warning">
  <!--@This API is experimental. It is only available to Chrome users on the-->
  è¯¥ API è¿˜æ˜¯å®éªŒæ€§çš„ï¼Œä»…å¯¹
  <a href="http://www.chromium.org/getting-involved/dev-channel">dev <!--@channel-->åˆ†æ”¯</a><!--@.-->çš„
  Chrome ç”¨æˆ·å¯ç”¨ã€‚
</p>
<h1>chrome.declarativeContent</h1>
<div id="toc">
  <ol>
    <li >
      <a href="#usage"
         data-list-item
         >ç”¨æ³•</a>
    </li>
    <li >
      <a href="#rules"
         data-list-item
         >è§„åˆ™</a>
    </li>
    <li >
      <a href="#css-matching"
         data-list-item
         >CSS åŒ¹é…</a>
    </li>
    <li class="separator">
      <a href="#types"
         data-list-item
         >ç±»å‹</a>
      <ol>
        <li >
          <a href="#type-PageStateMatcher"
             data-list-item
             >PageStateMatcher</a>
        </li>
        <li >
          <a href="#type-ShowPageAction"
             data-list-item
             >ShowPageAction</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="#events"
         data-list-item
         >äº‹ä»¶</a>
      <ol>
        <li >
          <a href="#event-onPageChanged"
             data-list-item
             >onPageChanged</a>
        </li>
      </ol>
    </li>
  </ol>
</div>

<table class="intro" id="intro">
  <tr>
    <td class="title">æè¿°<!--@:-->ï¼š</td>
    <td>
        ä½¿ç”¨ <code>chrome.declarativeContent</code> API æ ¹æ®ç½‘é¡µå†…å®¹é‡‡å–è¡ŒåŠ¨ï¼Œè€Œä¸éœ€è¦è¯»å–é¡µé¢å†…å®¹çš„æƒé™ã€‚
                <br>
    </td>
  </tr>
  <tr>
    <td class="title">å¯ç”¨ç‰ˆæœ¬<!--@:-->ï¼š</td>
    <td>
        ä»…ç”¨äº <a href="http://www.chromium.org/getting-involved/dev-channel">Dev</a> <!--@channel only.-->åˆ†æ”¯ã€‚
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">æƒé™<!--@:-->ï¼š</td>
    <td>
        <span class="code">
        "declarativeContent"
                </span>
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">äº†è§£æ›´å¤š<!--@:-->ï¼š</td>
    <td>
        <a href="events.html">
        å£°æ˜äº‹ä»¶
                </a>
        <br>
        <a href="activeTab.html">
        activeTab
                </a>
        <br>
    </td>
  </tr>
</table>
<section>
<h2 id="usage"><!--@Usage-->ç”¨æ³•</h2>

<p>
<!--@The Declarative Content API allows you to show your extension's
<a href="pageAction.html">page action</a> depending on the URL of a web page and
the CSS selectors its content matches, without needing to take a <a
href="https://crxdoc-zh.appspot.com/extensions/declare_permissions.html#host-permissions">host permission</a> or
inject a <a href="content_scripts.html">content script</a>.  Use the
<a href="activeTab.html">activeTab</a> permission in order to be able
to interact with a page after the user clicks on your page action.-->
å£°æ˜å¼å†…å®¹ API å…è®¸æ‚¨æ ¹æ®ç½‘é¡µçš„ URL
å’Œå®ƒçš„å†…å®¹åŒ¹é…çš„ CSS
é€‰æ‹©å™¨æ¥æ˜¾ç¤ºæ‚¨çš„æ‰©å±•ç¨‹åºçš„<a href="pageAction.html">é¡µé¢æŒ‰é’®</a>ï¼Œè€Œä¸éœ€è¦æ‹¥æœ‰<a
href="https://crxdoc-zh.appspot.com/extensions/declare_permissions.html#host-permissions">ä¸»æœºæƒé™</a>æˆ–æ’å…¥<a
href="content_scripts.html">å†…å®¹è„šæœ¬</a>ã€‚ä¸ºäº†åœ¨ç”¨æˆ·å•å‡»æ‚¨çš„é¡µé¢æŒ‰é’®åèƒ½å¤Ÿä¸ç½‘é¡µäº¤äº’ï¼Œè¯·ä½¿ç”¨
<a href="activeTab.html">activeTab</a> æƒé™ã€‚
</p>

<p>
<!--@If you need more precise control over when your page action appears or
you need to change its appearance to match the current tab before the
user clicks on it, you'll have to keep using the <a href="pageAction.html">pageAction</a> API.-->
å¦‚æœæ‚¨éœ€è¦æ›´ç²¾ç¡®åœ°æ§åˆ¶ä»€ä¹ˆæ—¶å€™æ˜¾ç¤ºæ‚¨çš„é¡µé¢æŒ‰é’®ï¼Œæˆ–è€…éœ€è¦åœ¨ç”¨æˆ·å•å‡»å®ƒä¹‹å‰æ›´æ”¹å®ƒçš„å¤–è§‚ä»¥åŒ¹é…å½“å‰æ ‡ç­¾é¡µï¼Œæ‚¨è¿˜æ˜¯éœ€è¦ç»§ç»­ä½¿ç”¨<a href="pageAction.html">é¡µé¢æŒ‰é’®</a> APIã€‚
</p>

<h2 id="rules"><!--@Rules-->è§„åˆ™</h2>

<p><!--@As a <a href="https://crxdoc-zh.appspot.com/extensions/events.html#declarative">declarative API</a>, this
API lets you register rules on the
<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#event-onPageChanged">onPageChanged</a></code> <a href="https://crxdoc-zh.appspot.com/extensions/events.html#type-Event">event</a> object which
take an action (currently just <code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-ShowPageAction">ShowPageAction</a></code>) when
a set of conditions, represented as a
<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">PageStateMatcher</a></code>, are met.-->
ä½œä¸ºä¸€ç§<a href="https://crxdoc-zh.appspot.com/extensions/events.html#declarative">å£°æ˜å¼ API</a>ï¼Œè¯¥ API è®©æ‚¨åœ¨
<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#event-onPageChanged">onPageChanged</a></code>
<a href="https://crxdoc-zh.appspot.com/extensions/events.html#type-Event">äº‹ä»¶å¯¹è±¡</a>ä¸Šæ³¨å†Œè§„åˆ™ï¼Œå½“ä¸€ç³»åˆ—ç”±
<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">PageStateMatcher</a></code>
è¡¨ç¤ºçš„æ¡ä»¶æ»¡è¶³æ—¶æ‰§è¡ŒæŸä¸ªæ“ä½œï¼ˆç›®å‰åªæœ‰
<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-ShowPageAction">ShowPageAction</a></code>ï¼‰ã€‚
</p>

<p>
<!--@The <code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">PageStateMatcher</a></code> matches web pages if and only
if all listed criteria are met. The following rule would show a page
action for pages on <code>https://www.google.com/</code> when a
password field is present on it:-->
å½“ä¸”ä»…å½“åˆ—å‡ºçš„æ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œ<code><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">PageStateMatcher</a></code>
æ‰ä¼šåŒ¹é…ç½‘é¡µã€‚å½“ <code>https://www.google.com/</code>
ä¸Šçš„é¡µé¢å­˜åœ¨å¯†ç å­—æ®µæ—¶ï¼Œä»¥ä¸‹è§„åˆ™å°†ä¸ºè¯¥é¡µé¢æ˜¾ç¤ºé¡µé¢æŒ‰é’®ï¼š
</p>

<pre>
var rule1 = {
  conditions: [
    new <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">chrome.declarativeContent.PageStateMatcher</a>({
      <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-pageUrl">pageUrl</a>: { <a href="https://crxdoc-zh.appspot.com/extensions/events.html#property-UrlFilter-hostEquals">hostEquals</a>: 'www.google.com', <a href="https://crxdoc-zh.appspot.com/extensions/events.html#property-UrlFilter-schemes">schemes</a>: ['https'] },
      <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-css">css</a>: ["input[type='password']"]
    })
  ],
  actions: [ new <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-ShowPageAction">chrome.declarativeContent.ShowPageAction</a>() ]
};
</pre>

<p class="note">
<strong><!--@Note:-->æ³¨æ„ï¼š</strong><!--@ All conditions and actions are created via a constructor
as shown in the example above.-->æ‰€æœ‰æ¡ä»¶å’Œæ“ä½œéƒ½é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºï¼Œå¦‚ä»¥ä¸Šä¾‹å­æ‰€ç¤ºã€‚
</p>

<p>
<!--@In order to also show a page action for sites with a video, you can
add a second condition, as each condition is sufficient to trigger all
specified actions:-->
å¦‚æœè¦ä¸ºåŒ…å«è§†é¢‘çš„ç½‘ç«™æ˜¾ç¤ºé¡µé¢æŒ‰é’®ï¼Œæ‚¨å¯ä»¥æ·»åŠ ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œæ¯ä¸€ä¸ªæ¡ä»¶éƒ½è¶³ä»¥è§¦å‘æ‰€æœ‰æŒ‡å®šçš„æ“ä½œï¼š
</p>
<pre>
var rule2 = {
  conditions: [
    new <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">chrome.declarativeContent.PageStateMatcher</a>({
      <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-pageUrl">pageUrl</a>: { <a href="https://crxdoc-zh.appspot.com/extensions/events.html#property-UrlFilter-hostEquals">hostEquals</a>: 'www.google.com', <a href="https://crxdoc-zh.appspot.com/extensions/events.html#property-UrlFilter-schemes">schemes</a>: ['https'] },
      <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-css">css</a>: ["input[type='password']"]
    })<strong>,
    new <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">chrome.declarativeContent.PageStateMatcher</a>({
      <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-css">css</a>: ["video"]
    })</strong>
  ],
  actions: [ new <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-ShowPageAction">chrome.declarativeContent.ShowPageAction</a>() ]
};
</pre>

<p>
<a href="https://crxdoc-zh.appspot.com/extensions/events.html#addingrules"><!--@Added rules-->æ·»åŠ çš„è§„åˆ™</a><!--@ are saved across
browser restarts, so register them as follows:-->åœ¨æµè§ˆå™¨é‡æ–°å¯åŠ¨åä¹Ÿå°†ä¿ç•™ï¼Œæ‰€ä»¥è¯·æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼æ³¨å†Œå®ƒä»¬ï¼š
</p>
<pre>
<a href="https://crxdoc-zh.appspot.com/extensions/runtime.html#event-onInstalled">chrome.runtime.onInstalled</a>.addListener(function(details) {
  <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#event-onPageChanged">chrome.declarativeContent.onPageChanged</a>.<a href="https://crxdoc-zh.appspot.com/extensions/events.html#removingrules">removeRules</a>(undefined, function() {
    <a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#event-onPageChanged">chrome.declarativeContent.onPageChanged</a>.<a href="https://crxdoc-zh.appspot.com/extensions/events.html#addingrules">addRules</a>([rule2]);
  });
});
</pre>

<p class="note">
<strong><!--@Note:-->æ³¨æ„ï¼š</strong><!--@ You should always register or unregister rules in bulk
rather than individually because each of these operations recreates internal
data structures.  This re-creation is computationally expensive but facilitates
a faster matching algorithm.-->æ‚¨ä¸€å®šè¦æ‰¹é‡æ³¨å†Œæˆ–å–æ¶ˆæ³¨å†Œè§„åˆ™ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°è¿›è¡Œï¼Œå› ä¸ºæ¯ä¸€æ¬¡è¿™æ ·çš„æ“ä½œéƒ½ä¼šé‡æ–°åˆ›å»ºå†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œè¿™ä¸€é‡æ–°åˆ›å»ºçš„è¿‡ç¨‹éœ€è¦å¤§é‡çš„è®¡ç®—ï¼Œä½†æ˜¯åˆ©ç”¨äº†ä¸€ç§æ›´å¿«çš„åŒ¹é…ç®—æ³•ã€‚
</p>

<p>
<!--@Combine the above rule with the <a href="activeTab.html">activeTab</a>
permission to create an extension that doesn't need any install-time
permissions but can invite the user to click its page action on
relevant pages and can run on those pages when the user clicks the
page action.-->
å°†ä»¥ä¸Šè§„åˆ™ä¸
<a href="activeTab.html">activeTab</a>
æƒé™ä¸€èµ·ä½¿ç”¨ï¼Œå°±èƒ½åˆ›å»ºä¸€ä¸ªä¸éœ€è¦ä»»ä½•å®‰è£…æ—¶è­¦å‘Šçš„æ‰©å±•ç¨‹åºï¼Œä½¿ç”¨æˆ·åœ¨ç›¸å…³çš„é¡µé¢ä¸Šå•å‡»å®ƒçš„é¡µé¢æŒ‰é’®ï¼Œå¹¶å½“ç”¨æˆ·å•å‡»é¡µé¢æŒ‰é’®æ—¶åœ¨è¿™äº›é¡µé¢ä¸Šè¿è¡Œã€‚
</p>

<h2 id="css-matching">CSS <!--@Matching-->åŒ¹é…</h2>

<p><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#property-PageStateMatcher-css">PageStateMatcher.css</a> <!--@conditions must be
<i><a href="http://www.w3.org/TR/selectors4/#compound">compound selectors</a></i>,
meaning that you can't
include <a href="http://www.w3.org/community/webed/wiki/CSS/Selectors#Combinators">combinators</a>
like whitespace or "<code>&gt;</code>" in your selectors.  This helps Chrome
match the selectors more efficiently.-->
æ¡ä»¶å¿…é¡»ä¸º<i><a href="http://www.w3.org/TR/selectors4/#compound"
>å¤åˆé€‰æ‹©å™¨</a></i>ï¼Œè¿™æ„å‘³ç€æ‚¨åœ¨é€‰æ‹©å™¨ä¸­ä¸èƒ½åŒ…å«<a
href="http://www.w3.org/community/webed/wiki/CSS/Selectors#Combinators">ç»„åˆå™¨</a>ï¼Œä¾‹å¦‚ç©ºæ ¼æˆ–â€œ<code>&gt;</code>â€ã€‚è¿™æœ‰åˆ©äºè®© Chrome
æµè§ˆå™¨æ›´é«˜æ•ˆåœ°åŒ¹é…é€‰æ‹©å™¨ã€‚
</p>

<table>
  <tr><th><!--@Compound Selectors (OK)-->å¤åˆé€‰æ‹©å™¨ï¼ˆå¯ä»¥ä½¿ç”¨ï¼‰</th><th><!--@Complex Selectors (Not OK)-->å¤æ‚é€‰æ‹©å™¨ï¼ˆä¸èƒ½ä½¿ç”¨ï¼‰</th></tr>
  <tr><td><code>a</code></td><td><code>div p</code></td></tr>
  <tr><td><code>iframe.special[src^='http']</code></td><td><code>p&gt;span.highlight</code></td></tr>
  <tr><td><code>ns|*</code></td><td><code>p + ol</code></td></tr>
  <tr><td><code>#abcd:checked</code></td><td><code>p::first-line</code></td></tr>
</table>

<p><!--@CSS conditions only match displayed elements: if an element that matches your
selector is <code>display:none</code> or one of its parent elements
is <code>display:none</code>, it doesn't cause the condition to match.  Elements
styled with <code>visibility:hidden</code>, positioned off-screen, or hidden by
other elements can still make your condition match.-->
CSS æ¡ä»¶åªåŒ¹é…æ˜¾ç¤ºçš„å…ƒç´ ï¼šå¦‚æœåŒ¹é…æ‚¨çš„é€‰æ‹©å™¨çš„å…ƒç´ æˆ–è€…å®ƒçš„æŸä¸ªçˆ¶å…ƒç´ ä¸º
<code>display:none</code>ï¼Œè¿™æ ·ä¸ä¼šä½¿æ¡ä»¶åŒ¹é…ã€‚å…·æœ‰
<code>visibility:hidden</code>
æ ·å¼ã€ä½ç½®åœ¨å±å¹•ä»¥å¤–æˆ–è€…è¢«å…¶ä»–å…ƒç´ éšè—çš„å…ƒç´ ä»ç„¶å¯ä»¥ä½¿æ‚¨çš„æ¡ä»¶åŒ¹é…ã€‚
</p>
</section>
<section>
<h2 id="api-reference-header" title="">chrome.declarativeContent <!--@reference-->å‚è€ƒ</h2>
<div class="api_reference">
    <h2 id="types"><!--@Types-->ç±»å‹</h2>
      <div>
        <h3 id="type-PageStateMatcher">PageStateMatcher</h3>
        <div>
          <dd>é€šè¿‡å„ç§æ¡ä»¶åŒ¹é…ç½‘é¡µçš„çŠ¶æ€ã€‚</dd>
            <h3 id="PageStateMatcher-properties" class="capitalize" title="">
              <a href="#type-PageStateMatcher">PageStateMatcher</a>
              çš„å±æ€§
            </h3>
            <dd>
              <dl>
                <div>
                  <a name="property-PageStateMatcher-pageUrl"></a>
                  <dl>
                    <dt>
                      <h4 id="property-PageStateMatcher-pageUrl" title="">
                        pageUrl
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            <a href="https://crxdoc-zh.appspot.com/extensions/events.html#type-UrlFilter">events.UrlFilter</a>
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      å¦‚æœé¡µé¢çš„é¡¶å±‚ URL æ»¡è¶³ UrlFilter çš„æ¡ä»¶åˆ™åŒ¹é…ã€‚
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-PageStateMatcher-css"></a>
                  <dl>
                    <dt>
                      <h4 id="property-PageStateMatcher-css" title="">
                        css
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      å¦‚æœåœ¨ä¸é¡µé¢ä¸»æ¡†æ¶æ¥æºç›¸åŒçš„æŸä¸ªæ¡†æ¶ä¸­ï¼Œæ•°ç»„ä¸­çš„æ‰€æœ‰ CSS é€‰æ‹©å™¨éƒ½åŒ¹é…æ˜¾ç¤ºçš„å…ƒç´ ï¼Œåˆ™åŒ¹é…ç½‘é¡µçŠ¶æ€ã€‚ä¸ºäº†æé«˜åŒ¹é…é€Ÿåº¦ï¼Œè¯¥æ•°ç»„ä¸­çš„æ‰€æœ‰é€‰æ‹©å™¨å¿…é¡»æ˜¯<a href="http://www.w3.org/TR/selectors4/#compound">å¤åˆé€‰æ‹©å™¨</a>ã€‚æ³¨æ„ï¼Œåœ¨è¿™é‡Œåˆ—å‡ºå‡ ç™¾ä¸ª CSS é€‰æ‹©å™¨æˆ–è€…æ¯ä¸ªç½‘é¡µéƒ½èƒ½åŒ¹é…å‡ ç™¾æ¬¡çš„ CSS é€‰æ‹©å™¨å¯èƒ½ä¼šä½¿ç½‘ç«™å˜æ…¢ã€‚
                    </dd>
                  </dl>
                </div>
              </dl>
            </dd>
        </div>
      </div>
      <div>
        <h3 id="type-ShowPageAction">ShowPageAction</h3>
        <div>
          <dd>å£°æ˜å¼äº‹ä»¶æ“ä½œï¼Œå½“ç›¸åº”çš„æ¡ä»¶æ»¡è¶³æ—¶æ˜¾ç¤ºæ‰©å±•ç¨‹åºçš„ <a href="pageAction.html">é¡µé¢æŒ‰é’®</a>ã€‚ä½¿ç”¨è¯¥æ“ä½œä¸éœ€è¦<a href="https://crxdoc-zh.appspot.com/extensions/declare_permissions.html#host-permissions">ä¸»æœºæƒé™</a>ï¼Œä½†æ˜¯æ‰©å±•ç¨‹åºå¿…é¡»è¦æœ‰é¡µé¢æŒ‰é’®ã€‚å¦‚æœæ‰©å±•ç¨‹åºæ‹¥æœ‰ <a href="activeTab.html">activeTab</a> æƒé™ï¼Œå•å‡»é¡µé¢æŒ‰é’®å°±ä¼šæˆäºˆå¯¹æ´»åŠ¨æ ‡ç­¾é¡µçš„è®¿é—®æƒé™ã€‚</dd>
        </div>
      </div>
    <h2 id="events"><!--@Events-->äº‹ä»¶</h2>
      <div>
        <h3 id="event-onPageChanged">onPageChanged</h3>
        <div class="description">
          <p><!--@Provides the <a href="https://crxdoc-zh.appspot.com/extensions/events.html#declarative">Declarative Event API</a>
          consisting of $ref:[events.Event.addRules addRules],
          $ref:[events.Event.removeRules removeRules], and $ref:[events.Event.getRules
          getRules].-->
          æä¾›<a href="https://crxdoc-zh.appspot.com/extensions/events.html#declarative">å£°æ˜å¼äº‹ä»¶ API</a>ï¼ŒåŒ…æ‹¬
          $ref:[events.Event.addRules addRules]ã€$ref:[events.Event.removeRules
          removeRules] å’Œ $ref:[events.Event.getRules getRules]ã€‚
          </p>
          <div class="summary">
            <div class="line">
            <span>chrome.declarativeContent.onPageChanged.addRules</span>(<span>array of <a href="#type-Rule">Rule</a> rules</span>, <span class="optional">function callback</span>)
            </div>
            <div class="line">
            <span>chrome.declarativeContent.onPageChanged.removeRules</span>(<span class="optional">array of string ruleIdentifiers</span>, <span class="optional">function callback</span>)
            </div>
            <div class="line">
            <span>chrome.declarativeContent.onPageChanged.getRules</span>(<span class="optional">array of string ruleIdentifiers</span>, <span>function callback</span>)
            </div>
          </div>
            <h4 title=""><!--@Supported conditions-->æ”¯æŒçš„æ¡ä»¶</h4>
            <ul>
              <div><li><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-PageStateMatcher">PageStateMatcher</a></li></div>
            </ul>
            <h4 title=""><!--@Supported actions-->æ”¯æŒçš„æ“ä½œ</h4>
            <ul>
              <div><li><a href="https://crxdoc-zh.appspot.com/extensions/declarativeContent.html#type-ShowPageAction">ShowPageAction</a></li></div>
            </ul>
        </div>
      </div>
</div>
</section>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">â†‘</button>
    <button class="google-button" id="send-feedback" style="display:none">Send Feedback</button>
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        è¯¥é¡µé¢ç¿»è¯‘è‡ª
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        ä¸
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>ã€‚é™¤éç‰¹åˆ«<a href="https://code.google.com/policies.html#restrictions">è¯´æ˜</a>ï¼Œè¯¥é¡µé¢çš„å†…å®¹éµå¾ª
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>ï¼Œä»£ç ç¤ºä¾‹éµå¾ª
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>ã€‚
      </p>
      <p class="crxdoczh-footer">
        <a href="https://code.google.com/p/crxdoczh/">crxdoczh é¡¹ç›®ä¸»é¡µ</a>
        <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">å‘é€åé¦ˆ</a>
        <a href="" rel="publisher">
          Google+ é¡µé¢
        </a>
        <a href="https://plus.google.com/communities/105384952265487436177">Google+ ç¤¾ç¾¤</a>
      </p>
      <script src="../../developer.chrome.com/static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/popup.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/prettify.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/scroll.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/sidebar.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25062424-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = 'https://ssl.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        window.___gcfg = {
      Â  Â  lang: 'zh-CN'
      Â  };
      Â  (function() {
      Â  Â  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      Â  Â  po.src = 'https://apis.google.com/js/plusone.js';
      Â  Â  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      Â  })();
      </script>
    </div>
  </div>
</html>
