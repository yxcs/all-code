<!DOCTYPE html>
<html>
  <head>
    <title>chrome.mediaGalleries - Google Chrome 应用开发文档（非官方中文版）</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/static/css/site.css" rel="stylesheet" type="text/css">
    <link href="https://developer.chrome.com/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="https://developer.chrome.com/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  </head>

  <body>


<!-- Copyright  2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  12/24/13 11:31:38.<br>
<b>Address:</b> <a class="info" href="https://crxdoc-zh.appspot.com/apps/mediaGalleries.html">https://crxdoc-zh.appspot.com/apps/mediaGalleries.html</a><br>
<b>Title:</b> chrome.mediaGalleries - Google Chrome 应用开发文档（非官方中文版） &nbsp;&bull;&nbsp; <b>Size:</b> 56111<br></div>
<!-- /Copyright  2005. Spidersoft Ltd -->


    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="/apps/" title="Google Chrome 应用" id="view-original">
          <img src="https://developer.chrome.com/static/images/chrome-logo.png" alt=""> chrome
        </a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            应用 &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html"><!--@apps-->应用</button>
            <button class="extensions" data-href="/extensions"><!--@extensions-->扩展程序</button>
          </div>
        </div>（非官方中文版）
      </td>
      <td>
        <ul>
          <li>
            <a href="/apps/samples.html"
               title="示例 应用（包含源代码）"><!--@Samples-->示例</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-apps"
               title="Google Chrome 应用开发者论坛"
               target="_blank"><!--@Group-->论坛（英文）</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-app/info"
               title="Stack Overflow 上的 [google-chrome-app] 标签"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <g:plusone></g:plusone>
        <ul 
            class="level1 ">
        <li class="level2">
              <span class="level2">发现</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/about_apps.html" class="level3 ">什么是 Chrome 应用？</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">开发</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/first_app.html" class="level3 ">创建您的第一个应用</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">教程</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">通过代码实验室学习</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_codelab.html" class="level5 ">关于代码实验室</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab1_setup.html" class="level5 ">1、设置开发环境</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab2_basic.html" class="level5 ">2、创建基本的应用</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab3_mvc.html" class="level5 ">3、创建 MVC</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab5_data.html" class="level5 ">4、保存和获取数据</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab6_lifecycle.html" class="level5 ">5、管理应用的生命周期</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab7_useridentification.html" class="level5 ">6、访问用户数据</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab8_webresources.html" class="level5 ">7、访问网络资源</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab_10_publishing.html" class="level5 ">8、发布应用</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">MVC 架构与框架</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_frameworks.html" class="level5 ">关于 MVC 架构</a>
              </li><li class="level5">
                    <a href="/apps/angular_framework.html" class="level5 ">用 AngularJS 建立应用</a>
              </li><li class="level5">
                    <a href="/apps/sencha_framework.html" class="level5 ">用 Sencha Ext JS 建立应用</a>
              </li>
              </ul>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Chrome 应用的概念</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">基础知识</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_architecture.html" class="level5 ">应用的架构</a>
              </li><li class="level5">
                    <a href="/apps/app_lifecycle.html" class="level5 ">应用的生命周期</a>
              </li><li class="level5">
                    <a href="/apps/offline_apps.html" class="level5 ">首先考虑离线</a>
              </li><li class="level5">
                    <a href="/apps/app_external.html" class="level5 ">外部内容</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">安全性</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/contentSecurityPolicy.html" class="level5 ">内容安全策略</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">将您的应用与云端结合</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                  <a class="button level5">
                    <span class="level5">云消息服务</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="/apps/cloudMessaging.html" class="level6 ">关于云消息服务</a>
                </li><li class="level6">
                      <a href="/apps/pushMessaging.html" class="level6 ">客户端参考</a>
                </li><li class="level6">
                      <a href="/apps/gcm_server.html" class="level6 ">服务参考</a>
                </li><li class="level6">
                      <a href="/apps/gcm_tos.html" class="level6 ">服务条款</a>
                </li>
                </ul>
              </li><li class="level5">
                  <a class="button level5">
                    <span class="level5">云存储服务</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="/apps/storage.html" class="level6 ">chrome.storage</a>
                </li>
                </ul>
              </li><li class="level5">
                    <a href="/apps/app_identity.html" class="level5 ">用户认证</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">存储与获取数据</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_storage.html" class="level5 ">存储 API</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">使用低级系统服务</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_usb.html" class="level5 ">USB</a>
              </li><li class="level5">
                    <a href="/apps/app_serial.html" class="level5 ">串行端口</a>
              </li><li class="level5">
                    <a href="/apps/app_network.html" class="level5 ">网络通信</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">与主机平台交互</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/desktop_notifications.html" class="level5 ">丰富的通知</a>
              </li>
              </ul>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">发布</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/publish_app.html" class="level3 ">发布您的应用</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">通过您的应用获利</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="/apps/google_wallet.html" class="level4 ">用于数字商品的 Google 电子钱包</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="/apps/analytics.html" class="level3 ">Analytics（分析）</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">参考</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/api_index.html" class="level3 ">Chrome 平台 API</a>
          </li><li class="level3">
                <a href="/apps/tags/webview.html" class="level3 ">Webview 标签</a>
          </li><li class="level3">
                <a href="/apps/api_other.html" class="level3 ">网页 API</a>
          </li><li class="level3">
                <a href="/apps/manifest.html" class="level3 ">清单文件格式</a>
          </li><li class="level3">
                <a href="/apps/app_deprecated.html" class="level3 ">禁用的网页特性</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">示例</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/samples.html" class="level3 ">示例应用</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">帮助</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/faq.html" class="level3 ">常见问题</a>
          </li><li class="level3">
                <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps" class="level3 ">Google 网上论坛</a>
          </li><li class="level3">
                <a href="http://stackoverflow.com/questions/tagged/google-chrome-app" class="level3 ">Stack Overflow</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<h1>chrome.mediaGalleries</h1>
<div id="toc">
  <ol>
    <li >
      <a href="#usage"
         data-list-item
         >用法</a>
    </li>
    <li >
      <a href="#manifest"
         data-list-item
         >清单文件</a>
    </li>
    <li >
      <a href="#iTunes"
         data-list-item
         >iTunes</a>
    </li>
    <li >
      <a href="#Picasa"
         data-list-item
         >Picasa</a>
    </li>
    <li class="separator">
      <a href="#methods"
         data-list-item
         >方法</a>
      <ol>
        <li >
          <a href="#method-getMediaFileSystems"
             data-list-item
             >getMediaFileSystems        </a>
        </li>
        <li >
          <a href="#method-getMediaFileSystemMetadata"
             data-list-item
             >getMediaFileSystemMetadata        </a>
        </li>
        <li >
          <a href="#method-getAllMediaFileSystemMetadata"
             data-list-item
             >getAllMediaFileSystemMetadata        </a>
        </li>
        <li >
          <a href="#method-getMetadata"
             data-list-item
             >getMetadata        </a>
        </li>
      </ol>
    </li>
  </ol>
</div>

<table class="intro" id="intro">
  <tr>
    <td class="title">描述<!--@:-->：</td>
    <td>
         <!--@Use the <code>chrome.mediaGalleries</code> API to access media files (images,
         video, audio) from the user's local disks (with the user's consent).-->
         使用 <code>chrome.mediaGalleries</code> API
         从用户的本地磁盘（包含用户内容）中访问媒体文件（图片、视频、音频）。
                <br>
    </td>
  </tr>
  <tr>
    <td class="title">可用版本<!--@:-->：</td>
    <td>
        <!--@Stable since-->从 Chrome 23<!--@.--> 开始稳定支持。
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">权限<!--@:-->：</td>
    <td>
        <span class="code">
        {"mediaGalleries": ["accessType1", "accessType2", ...]}
                </span>
        <br>
        <span class="code">
        {"mediaGalleries": ["accessType1", "accessType2", ..., "allAutoDetected"]}
                </span>
        <br>
        <!--@See -->有关更多信息，请参见下面的<a href="#manifest"><!--@Manifest-->清单文件</a><!--@ below for more information.-->部分。
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">了解更多<!--@:-->：</td>
    <td>
        <a href="https://developers.google.com/live/shows/10479832/">
        Chrome 浏览器办公时间：媒体库 API
                </a>
        <br>
    </td>
  </tr>
</table>
<section>
<h2 id="usage"><!--@Usage-->用法</h2>

<p><!--@The mediaGalleries API lets you prompt the user for permission to access
media galleries on the user's computer. The permission dialog contains common
media locations for the platform and allows the user to specify additional
locations. From those locations, only media files will be present in the file
system objects.-->
媒体库 API
让您提示用户，请求访问用户计算机上媒体库的权限。权限对话框包含当前平台上常用的媒体位置，并允许用户指定其他位置。在这些位置中，只有媒体文件才会在文件系统对象中出现。
</p>

<h2 id="manifest"><!--@Manifest-->清单文件</h2>

<p><!--@The media galleries API has two axes of permission parameters:-->
媒体库 API 有两种权限参数：
</p>

<ul>
  <li><!--@the locations that can be accessed-->可以访问的位置</li>
  <li><!--@the type of access-->访问类型</li>
</ul>

<p><!--@These two axes and the permission parameters on each axis are described
in the table below:-->
这两种类型以及每一种类型的权限参数如下表所述：
</p>

<table>
    <tr>
      <th><!--@Axis-->类型</th>
      <th><!--@Parameter-->参数</th>
      <th><!--@Effect-->效果</th>
    </tr>
    <tr>
      <td rowspan="2"><!--@Locations-->位置</td>
      <td><!--@none-->无</td>
      <td>
        <!--@If you do not specify a location permission parameter, your app will
        not be able to access any media galleries until the user grants
        permission to access specific media galleries at runtime using the
        media gallery permission dialog.-->
        如果您不指定位置权限参数，只有在运行时用户使用媒体库权限对话框授予访问指定媒体库的权限后，才能访问媒体库。
      </td>
    </tr>
    <tr>
      <td>"allAutoDetected"</td>
      <td>
        <!--@Grants your app access to all auto-detected media galleries on the
        user's computer. This permission causes an install-time prompt to be
        displayed indicating that the app will have access to the user's media
        files.-->
        授予您的应用访问用户计算机上所有自动检测到的媒体库的权限，该权限使得应用安装时显示提示，表示应用可以访问用户的媒体文件。
      </td>
    </tr>
    <tr>
      <td rowspan="3"><!--@Access&nbsp;type-->访问类型</td>
      <td>"read"</td>
      <td><!--@Grants your app the right to read files in media galleries.-->
      授予您的应用读取媒体库文件的权限。
      </td>
    </tr>
    <tr>
      <td>"delete"</td>
      <td>
        <!--@Grants your app the right to delete files from media galleries.
        "read" permission is a prerequisite for "delete". Specify both "read"
        and "delete" to obtain both types of permissions to media galleries.-->
      授予您的应用从媒体库删除文件的权限，"read" 权限是 "delete"
      的前提条件，同时指定 "read" 与 "delete" 获得这两种访问媒体库的权限。
      </td>
    </tr>
    <tr>
      <td>"copyTo"</td>
      <td>
        <!--@Grants your app the right to copy files into media galleries.
        Only valid media files that Chrome is capable of playing or displaying
        are permitted; files that Chrome is not able to validate will result
        in a security error. "read" and "delete" permissions are prerequisites
        for "copyTo". Specify "read", "delete" and "copyTo" to obtain all three
        types of permissions to media galleries.-->
        授予您的应用向媒体库复制文件的权限，只允许 Chrome
        浏览器能够播放或显示的有效媒体文件，复制 Chrome
        浏览器无法验证的文件将导致安全错误。"read" 与 "delete" 权限是
        "copyTo" 的前提条件，同时指定 "read"、"delete" 和 "copyTo"
        获得媒体库的所有访问权限。
      </td>
    </tr>
</table>

<p><!--@Notes:-->注意：</p>
<ul>
  <li><!--@The media gallery permission dialog can be triggered programmatically.
  The user may have alternate media locations, so even if you specify
  "allAutoDetected" permsission, it is still important to provide a mechanism
  to open the permission dialog in your app.-->
  媒体库权限对话框可以以编程方式触发。用户可能还有其他媒体位置，所以即使您指定了
  "allAutoDetected" 权限，您也应当在您的应用中提供某种方式打开权限对话框。
  </li>

  <li><!--@There is no write access to media galleries due to the
  file validation requirement. However, you can write files to
  a different file system like the temporary file system, and then copy
  the files into the desired media gallery.-->
  由于文件验证的要求，没有对媒体库的写入权限。然而，您可以将文件写入另一个文件系统，如临时文件系统，然后将这些文件复制到期望的媒体库中。
  </li>

  <li><!--@Access type permissions do not trigger an install-time prompt
  by themselves. However, the type of access will be reflected in the
  media gallery permission dialog, as well as the install-time prompt if
  "allAutoDetected" permission is requested.-->
  访问类型权限本身不会触发安装时的提示，但是访问类型会在媒体库权限对话框和安装时的提示（如果请求了 "allAutoDetected" 权限）中反映出来
  </li>
</ul>

<p><!--@Below is an example of a manifest file with mediaGalleries permissions:-->
如下是指定媒体库权限的清单文件的例子：
</p>

<pre data-filename="manifest.json">
{
  "name": "我的应用",
  ...
  "permissions": [
    <b>{ "mediaGalleries": ["read", "allAutoDetected"] }</b>
  ],
  ...
}
</pre>

<p><!--@This example manifest file will trigger an install-time permission prompt,
and let the app read from all auto-detected media galleries on the
user's computer. The user may add or remove galleries using the
media gallery permission dialog, after which the app will be able
to read all the media files from galleries that the user selected.-->
这一清单文件的例子在安装时会触发权限提示，让应用读取用户计算机上所有自动检测到的媒体库。用户可以使用媒体库权限对话框添加或删除库，之后应用就能够读取用户选择的库中的所有媒体文件。
</p>

<h2 id="iTunes">iTunes</h2>

<p><!--@If present, the user's iTunes library can be accessed as a media gallery.
In addition to the media files in the library, the "iTunes Music Library.xml"
file is also presented. Regardless of where the music files are actually on the
disk (and where the xml file says they are), they are mapping into an
Artist/Album/Track hierarchy like iTunes does by default.  This mapping doesn't
always work perfectly, so there are two things to note for Apps trying to match
the xml file with files in the gallery. If the filenames for tracks within an
album are not unique, they will be uniquified by adding the track id in
parentheses before the extension, and if there is a colon or a slash in the
artist, album, or track name, they are turned into underscore characters.-->
如果存在，用户的 iTunes 库可以作为媒体库访问。除了库中的媒体文件，“iTunes
Music Library.xml”文件也会存在。无论音乐文件在磁盘上的什么位置（以及 XML
文件中包含的位置），默认情况下它们都会被映射至艺术家/唱片集/音轨这样的结构。这一种映射方式有时候并不完美，所以如果应用需要将
XML
文件与媒体库中的文件配对的话，需要注意两点。如果唱片集中的音轨文件名不唯一，在扩展名之前会加上包含括号的音轨号，使它们唯一。如果艺术家、唱片集或音轨名称中包含冒号或斜杠，它们会变成下划线。
</p>

<h2 id="Picasa">Picasa</h2>

<p><!--@If present, the user's Picasa library can also be accessed as a media
gallery. Directories on the filesystem scanned by Picasa are presented under
folders/. Picasa Albums are presented under albums/. Albums and Folders that
have duplicate names and dates will be uniquified using an incrementing
integer in parenthesis before the extension. Duplicate filenames within the
same Album will also be uniquified using an incrementing integer in parenthesis
before the extension.-->
如果存在的话，用户的 Picasa 库也可以作为媒体库访问。Picasa
扫描的文件系统目录呈现在 folders/ 中，Picasa 相册呈现在 albums/
中。如果相册和文件夹具有相同的名称与日期，在扩展名前会加上包含括号的增量整数，使它们唯一。同一相册中如果有相同的文件名，也会在扩展名前加上包含括号的增量整数使之唯一。
</p>
</section>
<section>
<h2 id="api-reference-header" title="">chrome.mediaGalleries <!--@reference-->参考</h2>
<div class="api_reference">
    <h2 id="methods"><!--@Methods-->方法</h2>
      <div>
        <h3
            id="method-getMediaFileSystems"
            >getMediaFileSystems
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.mediaGalleries.getMediaFileSystems</span>(<span class="optional">object details</span>, <span>function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            <!--@Get the media galleries configured in this user agent. If none are configured or available, the callback will receive an empty array.--> 获取当前用户代理配置下的媒体库。如果没有配置或者没有可用的媒体库，回调函数将会接收空数组。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-getMediaFileSystems-details"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMediaFileSystems-details" title="">
                      details
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          object
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
                <dd>
                  <h4 title=""><!--@Properties-->属性</h4>
                  <dl>
                    <div>
                      <a name="property-details-interactive"></a>
                      <dl>
                        <dt>
                          <h4 id="property-details-interactive" title="">
                            interactive
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                enum of <code>"no"</code>, <code>"yes"</code>, or <code>"if_needed"</code>
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          <!--@Whether to prompt the user for permission to additional media galleries before returning the permitted set. Default is silent.  If the value 'yes' is passed, or if the application has not been granted access to any media galleries and the value 'if_needed' is passed, then the media gallery configuration dialog will be displayed.--> 返回允许的内容前是否提示用户访问其他媒体库的权限，默认情况下不提示。如果传递了 'yes'，或者如果应用没有被授予访问任何媒体库的权限并且传递了 'if_needed'，则会显示媒体库配置对话框。
                            <dl>
                              <dt>no</dt>
                              <dd>
                                <!--@Do not act interactively.--> 不要交互式地进行。
                              </dd>
                            </dl>
                            <dl>
                              <dt>yes</dt>
                              <dd>
                                <!--@Ask the user to manage permitted media galleries.--> 询问用户管理允许的媒体库。
                              </dd>
                            </dl>
                            <dl>
                              <dt>if_needed</dt>
                              <dd>
                                <!--@Ask the user to manage permitted galleries only if the return set would otherwise be empty.--> 只有当返回值会为空时才询问用户管理允许的媒体库。
                              </dd>
                            </dl>
                        </dd>
                      </dl>
                    </div>
                  </dl>
                </dd>
              </div>
              <div>
                <a name="property-getMediaFileSystems-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMediaFileSystems-callback" title="">
                      callback
                      <span class="property">
                        (
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@The <em>callback</em> parameter should specify a function
                  that looks like this:-->
                  <em>callback</em> 参数应该指定一个如下形式的函数：
            </p>
            <pre>function(array of domfilesystem mediaFileSystems) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-mediaFileSystems"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-mediaFileSystems" title="">
                        mediaFileSystems
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of domfilesystem
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      <h4 title=""><!--@Properties of each object-->每一个对象的属性</h4>
                      <dl>
                        <div>
                          <div>
                          </div>
                        </div>
                      </dl>
                    </dd>
                  </dl>
                </div>
            </dl>
        </div>
      </div>
      <div>
        <h3
            id="method-getMediaFileSystemMetadata"
            >getMediaFileSystemMetadata
        </h3>
        <div class="summary">
        <div class="line">
        <span>object chrome.mediaGalleries.getMediaFileSystemMetadata</span>(<span>domfilesystem mediaFileSystem</span>)
        </div>
        </div>
        <div class="description">
          <p>
            <!--@Get metadata about a specific media file system.--> 获取指定媒体文件系统的元数据。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-getMediaFileSystemMetadata-mediaFileSystem"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMediaFileSystemMetadata-mediaFileSystem" title="">
                      mediaFileSystem
                      <span class="property">
                        (
                          domfilesystem
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <h4 title=""><!--@Properties of return type-->返回值类型的属性</h4>
            <div>
              <div>
                  <dd>
                    <dl>
                      <div>
                        <a name="property-getMediaFileSystemMetadataReturnType-name"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-name" title="">
                              name
                              <span class="property">
                                (
                                  string
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@The name of the file system.--> 文件系统的名称。
                          </dd>
                        </dl>
                      </div><div>
                        <a name="property-getMediaFileSystemMetadataReturnType-galleryId"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-galleryId" title="">
                              galleryId
                              <span class="property">
                                (
                                  string
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@A unique and persistent id for the media gallery.--> 媒体库的唯一持久标识符。
                          </dd>
                        </dl>
                      </div><div>
                        <a name="property-getMediaFileSystemMetadataReturnType-deviceId"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-deviceId" title="">
                              deviceId
                              <span class="property">
                                (
                                  <span class="optional">optional</span>
                                  string
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@If the media gallery is on a removable device, a unique id for the device while the device is online.--> 如果媒体库位于可移动设备上，并且设备在线，则为设备的唯一标识符。
                          </dd>
                        </dl>
                      </div><div>
                        <a name="property-getMediaFileSystemMetadataReturnType-isRemovable"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-isRemovable" title="">
                              isRemovable
                              <span class="property">
                                (
                                  boolean
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@True if the media gallery is on a removable device.--> 如果媒体库在可移动设备上则为 true。
                          </dd>
                        </dl>
                      </div><div>
                        <a name="property-getMediaFileSystemMetadataReturnType-isMediaDevice"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-isMediaDevice" title="">
                              isMediaDevice
                              <span class="property">
                                (
                                  boolean
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@True if the device the media gallery is on was detected as a media device.  i.e. a PTP or MTP device, or a DCIM directory is present.--> 如果检测到媒体库所在的设备是媒体设备（即 PTP 或 MTP 设备，或存在 DCIM 目录）则为 true。
                          </dd>
                        </dl>
                      </div><div>
                        <a name="property-getMediaFileSystemMetadataReturnType-isAvailable"></a>
                        <dl>
                          <dt>
                            <h4 id="property-getMediaFileSystemMetadataReturnType-isAvailable" title="">
                              isAvailable
                              <span class="property">
                                (
                                  boolean
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@True if the device is currently available.--> 如果设备当前可用则为 true。
                          </dd>
                        </dl>
                      </div>
                    </dl>
                  </dd>
              </div>
            </div>
        </div>
      </div>
      <div>
        <h3
            id="method-getAllMediaFileSystemMetadata"
            >getAllMediaFileSystemMetadata
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.mediaGalleries.getAllMediaFileSystemMetadata</span>(<span>function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            <!--@Get metadata for all available media galleries.--> 获取所有可用媒体库的元数据。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-getAllMediaFileSystemMetadata-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-getAllMediaFileSystemMetadata-callback" title="">
                      callback
                      <span class="property">
                        (
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@The <em>callback</em> parameter should specify a function
                  that looks like this:-->
                  <em>callback</em> 参数应该指定一个如下形式的函数：
            </p>
            <pre>function(array of object metadata) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-metadata"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-metadata" title="">
                        metadata
                        <span class="property">
                          (
                            array of object
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      <h4 title=""><!--@Properties of each object-->每一个对象的属性</h4>
                      <dl>
                        <div>
                          <div>
                              <dd>
                                <dl>
                                  <div>
                                    <a name="property-metadataType-name"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-name" title="">
                                          name
                                          <span class="property">
                                            (
                                              string
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@The name of the file system.--> 文件系统的名称。
                                      </dd>
                                    </dl>
                                  </div><div>
                                    <a name="property-metadataType-galleryId"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-galleryId" title="">
                                          galleryId
                                          <span class="property">
                                            (
                                              string
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@A unique and persistent id for the media gallery.--> 媒体库的唯一持久标识符。
                                      </dd>
                                    </dl>
                                  </div><div>
                                    <a name="property-metadataType-deviceId"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-deviceId" title="">
                                          deviceId
                                          <span class="property">
                                            (
                                              <span class="optional">optional</span>
                                              string
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@If the media gallery is on a removable device, a unique id for the device while the device is online.--> 如果媒体库位于可移动设备上，并且设备在线，则为设备的唯一标识符。
                                      </dd>
                                    </dl>
                                  </div><div>
                                    <a name="property-metadataType-isRemovable"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-isRemovable" title="">
                                          isRemovable
                                          <span class="property">
                                            (
                                              boolean
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@True if the media gallery is on a removable device.--> 如果媒体库在可移动设备上则为 true。
                                      </dd>
                                    </dl>
                                  </div><div>
                                    <a name="property-metadataType-isMediaDevice"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-isMediaDevice" title="">
                                          isMediaDevice
                                          <span class="property">
                                            (
                                              boolean
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@True if the device the media gallery is on was detected as a media device.  i.e. a PTP or MTP device, or a DCIM directory is present.--> 如果检测到媒体库所在的设备是媒体设备（即 PTP 或 MTP 设备，或存在 DCIM 目录）则为 true。
                                      </dd>
                                    </dl>
                                  </div><div>
                                    <a name="property-metadataType-isAvailable"></a>
                                    <dl>
                                      <dt>
                                        <h4 id="property-metadataType-isAvailable" title="">
                                          isAvailable
                                          <span class="property">
                                            (
                                              boolean
                                            )
                                          </span>
                                        </h4>
                                      </dt>
                                      <dd>
                                        <!--@True if the device is currently available.--> 如果设备当前可用则为 true。
                                      </dd>
                                    </dl>
                                  </div>
                                </dl>
                              </dd>
                          </div>
                        </div>
                      </dl>
                    </dd>
                  </dl>
                </div>
            </dl>
        </div>
      </div>
      <div>
        <h3
            id="method-getMetadata"
            >getMetadata
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.mediaGalleries.getMetadata</span>(<span>blob mediaFile</span>, <span class="optional">object options</span>, <span>function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            <!--@Gets the media-specific metadata for a media file. This should work for files in media galleries as well as other DOM filesystems.--> 获取媒体文件特定的元数据，媒体库和其他 DOM 文件系统中的文件都可以使用该方法。
          </p>
          <h4 title=""><!--@Parameters-->参数</h4>
          <dl>
              <div>
                <a name="property-getMetadata-mediaFile"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMetadata-mediaFile" title="">
                      mediaFile
                      <span class="property">
                        (
                          blob
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
              <div>
                <a name="property-getMetadata-options"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMetadata-options" title="">
                      options
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          object
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
                <dd>
                  <h4 title=""><!--@Properties-->属性</h4>
                  <dl>
                    <div>
                      <a name="property-options-metadataType"></a>
                      <dl>
                        <dt>
                          <h4 id="property-options-metadataType" title="">
                            metadataType
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                enum of <code>"all"</code>, or <code>"mimeTypeOnly"</code>
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                          <!--@Specifies which subset of the metadata to retrieve. Defaults to 'all' if the option is omitted.--> 指定要获取哪些元数据，如果省略该选项则默认为 'all'（全部）。
                            <dl>
                              <dt>all</dt>
                              <dd>
                                <!--@Retrieve all available metadata.--> 获取所有可用的元数据。
                              </dd>
                            </dl>
                            <dl>
                              <dt>mimeTypeOnly</dt>
                              <dd>
                                <!--@Retrieve only the mime type.--> 仅获取 MIME 类型。
                              </dd>
                            </dl>
                        </dd>
                      </dl>
                    </div>
                  </dl>
                </dd>
              </div>
              <div>
                <a name="property-getMetadata-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-getMetadata-callback" title="">
                      callback
                      <span class="property">
                        (
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  <!--@The <em>callback</em> parameter should specify a function
                  that looks like this:-->
                  <em>callback</em> 参数应该指定一个如下形式的函数：
            </p>
            <pre>function(object metadata) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-metadata"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-metadata" title="">
                        metadata
                        <span class="property">
                          (
                            object
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                    </dd>
                  </dl>
                  <dd>
                    <h4 title=""><!--@Properties-->属性</h4>
                    <dl>
                      <div>
                        <a name="property-metadata-mimeType"></a>
                        <dl>
                          <dt>
                            <h4 id="property-metadata-mimeType" title="">
                              mimeType
                              <span class="property">
                                (
                                  string
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                            <!--@The browser sniffed mime type.--> 浏览器检测到的 MIME 类型。
                          </dd>
                        </dl>
                      </div>
                    </dl>
                  </dd>
                </div>
            </dl>
        </div>
      </div>
</div>
</section>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">↑</button>
    <button class="google-button" id="send-feedback" style="display:none">Send Feedback</button>
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p class="crxdoczh-footer">
        <a href="https://code.google.com/p/crxdoczh/">crxdoczh 项目主页</a>
        <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">发送反馈</a>
        <a href="https:////plus.google.com/112419687097816423998?prsrc=3" rel="publisher">
          Google+ 页面
        </a>
        <a href="https://plus.google.com/communities/105384952265487436177">Google+ 社群</a>
      </p>
      <script src="https://developer.chrome.com/static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/popup.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/prettify.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/scroll.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/sidebar.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25062424-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = 'https://ssl.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        window.___gcfg = {
          lang: 'zh-CN'
        };
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script>
    </div>
  </div>
</html>
