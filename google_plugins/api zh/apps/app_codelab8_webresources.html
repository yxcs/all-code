<!DOCTYPE html>
<html>
  <head>
    <title>è®¿é—®ç½‘ç»œèµ„æº - Google Chrome åº”ç”¨å¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/static/css/site.css" rel="stylesheet" type="text/css">
    <link href="https://developer.chrome.com/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="https://developer.chrome.com/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  </head>

  <body>


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  12/24/13 11:31:37.<br>
<b>Address:</b> <a class="info" href="https://crxdoc-zh.appspot.com/apps/app_codelab8_webresources.html">https://crxdoc-zh.appspot.com/apps/app_codelab8_webresources.html</a><br>
<b>Title:</b> è®¿é—®ç½‘ç»œèµ„æº - Google Chrome åº”ç”¨å¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰ &nbsp;&bull;&nbsp; <b>Size:</b> 44591<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->


    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="/apps/" title="Google Chrome åº”ç”¨" id="view-original">
          <img src="https://developer.chrome.com/static/images/chrome-logo.png" alt=""> chrome
        </a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            åº”ç”¨ &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html"><!--@apps-->åº”ç”¨</button>
            <button class="extensions" data-href="/extensions"><!--@extensions-->æ‰©å±•ç¨‹åº</button>
          </div>
        </div>ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰
      </td>
      <td>
        <ul>
          <li>
            <a href="/apps/samples.html"
               title="ç¤ºä¾‹ åº”ç”¨ï¼ˆåŒ…å«æºä»£ç ï¼‰"><!--@Samples-->ç¤ºä¾‹</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-apps"
               title="Google Chrome åº”ç”¨å¼€å‘è€…è®ºå›"
               target="_blank"><!--@Group-->è®ºå›ï¼ˆè‹±æ–‡ï¼‰</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-app/info"
               title="Stack Overflow ä¸Šçš„ [google-chrome-app] æ ‡ç­¾"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <g:plusone></g:plusone>
        <ul 
            class="level1 ">
        <li class="level2">
              <span class="level2">å‘ç°</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/about_apps.html" class="level3 ">ä»€ä¹ˆæ˜¯ Chrome åº”ç”¨ï¼Ÿ</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å¼€å‘</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/first_app.html" class="level3 ">åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªåº”ç”¨</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">æ•™ç¨‹</span>
                <div class="toggleIndicator level3 toggled"></div>
              </a>
            <ul toggleable
                class="level3 ">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">é€šè¿‡ä»£ç å®éªŒå®¤å­¦ä¹ </span>
                  <div class="toggleIndicator level4 toggled"></div>
                </a>
              <ul toggleable
                  class="level4 ">
              <li class="level5">
                    <a href="/apps/app_codelab.html" class="level5 ">å…³äºä»£ç å®éªŒå®¤</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab1_setup.html" class="level5 ">1ã€è®¾ç½®å¼€å‘ç¯å¢ƒ</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab2_basic.html" class="level5 ">2ã€åˆ›å»ºåŸºæœ¬çš„åº”ç”¨</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab3_mvc.html" class="level5 ">3ã€åˆ›å»º MVC</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab5_data.html" class="level5 ">4ã€ä¿å­˜å’Œè·å–æ•°æ®</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab6_lifecycle.html" class="level5 ">5ã€ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸ</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab7_useridentification.html" class="level5 ">6ã€è®¿é—®ç”¨æˆ·æ•°æ®</a>
              </li><li class="level5">
                    <a  class="level5 selected">7ã€è®¿é—®ç½‘ç»œèµ„æº</a>
              </li><li class="level5">
                    <a href="/apps/app_codelab_10_publishing.html" class="level5 ">8ã€å‘å¸ƒåº”ç”¨</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">MVC æ¶æ„ä¸æ¡†æ¶</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_frameworks.html" class="level5 ">å…³äº MVC æ¶æ„</a>
              </li><li class="level5">
                    <a href="/apps/angular_framework.html" class="level5 ">ç”¨ AngularJS å»ºç«‹åº”ç”¨</a>
              </li><li class="level5">
                    <a href="/apps/sencha_framework.html" class="level5 ">ç”¨ Sencha Ext JS å»ºç«‹åº”ç”¨</a>
              </li>
              </ul>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Chrome åº”ç”¨çš„æ¦‚å¿µ</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">åŸºç¡€çŸ¥è¯†</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_architecture.html" class="level5 ">åº”ç”¨çš„æ¶æ„</a>
              </li><li class="level5">
                    <a href="/apps/app_lifecycle.html" class="level5 ">åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸ</a>
              </li><li class="level5">
                    <a href="/apps/offline_apps.html" class="level5 ">é¦–å…ˆè€ƒè™‘ç¦»çº¿</a>
              </li><li class="level5">
                    <a href="/apps/app_external.html" class="level5 ">å¤–éƒ¨å†…å®¹</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å®‰å…¨æ€§</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/contentSecurityPolicy.html" class="level5 ">å†…å®¹å®‰å…¨ç­–ç•¥</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å°†æ‚¨çš„åº”ç”¨ä¸äº‘ç«¯ç»“åˆ</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                  <a class="button level5">
                    <span class="level5">äº‘æ¶ˆæ¯æœåŠ¡</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="/apps/cloudMessaging.html" class="level6 ">å…³äºäº‘æ¶ˆæ¯æœåŠ¡</a>
                </li><li class="level6">
                      <a href="/apps/pushMessaging.html" class="level6 ">å®¢æˆ·ç«¯å‚è€ƒ</a>
                </li><li class="level6">
                      <a href="/apps/gcm_server.html" class="level6 ">æœåŠ¡å‚è€ƒ</a>
                </li><li class="level6">
                      <a href="/apps/gcm_tos.html" class="level6 ">æœåŠ¡æ¡æ¬¾</a>
                </li>
                </ul>
              </li><li class="level5">
                  <a class="button level5">
                    <span class="level5">äº‘å­˜å‚¨æœåŠ¡</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="/apps/storage.html" class="level6 ">chrome.storage</a>
                </li>
                </ul>
              </li><li class="level5">
                    <a href="/apps/app_identity.html" class="level5 ">ç”¨æˆ·è®¤è¯</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å­˜å‚¨ä¸è·å–æ•°æ®</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_storage.html" class="level5 ">å­˜å‚¨ API</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">ä½¿ç”¨ä½çº§ç³»ç»ŸæœåŠ¡</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/app_usb.html" class="level5 ">USB</a>
              </li><li class="level5">
                    <a href="/apps/app_serial.html" class="level5 ">ä¸²è¡Œç«¯å£</a>
              </li><li class="level5">
                    <a href="/apps/app_network.html" class="level5 ">ç½‘ç»œé€šä¿¡</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">ä¸ä¸»æœºå¹³å°äº¤äº’</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="/apps/desktop_notifications.html" class="level5 ">ä¸°å¯Œçš„é€šçŸ¥</a>
              </li>
              </ul>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å‘å¸ƒ</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/publish_app.html" class="level3 ">å‘å¸ƒæ‚¨çš„åº”ç”¨</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">é€šè¿‡æ‚¨çš„åº”ç”¨è·åˆ©</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="/apps/google_wallet.html" class="level4 ">ç”¨äºæ•°å­—å•†å“çš„ Google ç”µå­é’±åŒ…</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="/apps/analytics.html" class="level3 ">Analyticsï¼ˆåˆ†æï¼‰</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å‚è€ƒ</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/api_index.html" class="level3 ">Chrome å¹³å° API</a>
          </li><li class="level3">
                <a href="/apps/tags/webview.html" class="level3 ">Webview æ ‡ç­¾</a>
          </li><li class="level3">
                <a href="/apps/api_other.html" class="level3 ">ç½‘é¡µ API</a>
          </li><li class="level3">
                <a href="/apps/manifest.html" class="level3 ">æ¸…å•æ–‡ä»¶æ ¼å¼</a>
          </li><li class="level3">
                <a href="/apps/app_deprecated.html" class="level3 ">ç¦ç”¨çš„ç½‘é¡µç‰¹æ€§</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">ç¤ºä¾‹</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/samples.html" class="level3 ">ç¤ºä¾‹åº”ç”¨</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å¸®åŠ©</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="/apps/faq.html" class="level3 ">å¸¸è§é—®é¢˜</a>
          </li><li class="level3">
                <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps" class="level3 ">Google ç½‘ä¸Šè®ºå›</a>
          </li><li class="level3">
                <a href="http://stackoverflow.com/questions/tagged/google-chrome-app" class="level3 ">Stack Overflow</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<div id="toc">
  <ol>
    <li >
      <a href="#loading_external_web_content_into_an_element"
         data-list-item
         >è½½å…¥å¤–éƒ¨ç½‘ç»œå†…å®¹</a>
      <ol>
        <li >
          <a href="#manifest"
             data-list-item
             >æ›´æ–°æ¸…å•æ–‡ä»¶</a>
        </li>
        <li >
          <a href="#view"
             data-list-item
             >æ›´æ–°è§†å›¾</a>
        </li>
        <li >
          <a href="#css"
             data-list-item
             >æ›´æ–°æ ·å¼è¡¨</a>
        </li>
        <li >
          <a href="#controller"
             data-list-item
             >æ›´æ–°æ§åˆ¶å™¨</a>
        </li>
        <li >
          <a href="#results"
             data-list-item
             >æ£€æŸ¥ç»“æœ</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="#loading_external_images"
         data-list-item
         >åŠ è½½å¤–éƒ¨å›¾ç‰‡</a>
      <ol>
        <li >
          <a href="#manifest2"
             data-list-item
             >æ›´æ–°æ¸…å•æ–‡ä»¶</a>
        </li>
        <li >
          <a href="#image"
             data-list-item
             >æ·»åŠ å›¾ç‰‡</a>
        </li>
        <li >
          <a href="#controller2"
             data-list-item
             >æ›´æ–°æ§åˆ¶å™¨</a>
        </li>
        <li >
          <a href="#results2"
             data-list-item
             >æ£€æŸ¥ç»“æœ</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="#takeaways_"
         data-list-item
         >æ›´å¤šä¿¡æ¯</a>
    </li>
    <li >
      <a href="#you_should_also_read"
         data-list-item
         >æ‚¨è¿˜åº”è¯¥é˜…è¯»</a>
    </li>
    <li >
      <a href="#what_39_s_next_"
         data-list-item
         >æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ</a>
    </li>
  </ol>
</div>

<h1 id="lab_8_web_resources"><!--@Access Web Resources-->è®¿é—®ç½‘ç»œèµ„æº</h1>

<p>Chrome <!--@Apps have a strict
<a href="contentSecurityPolicy.html">Content Security Policy</a>
which will not let the user execute code or load resources that are hosted remotely.-->
åº”ç”¨æœ‰ä¸€é¡¹ä¸¥æ ¼çš„<a href="contentSecurityPolicy.html">å†…å®¹å®‰å…¨ç­–ç•¥</a>ï¼Œä¸ä¼šè®©ç”¨æˆ·æ‰§è¡Œæˆ–åŠ è½½è¿œç¨‹æ‰˜ç®¡çš„ä»£ç å’Œèµ„æºã€‚
</p>

<p><!--@Many applications, however, need to be able to load and display content from a remote location. A News Reader, for example, needs to display remote content inline or load and show images from a remote URL.-->
ç„¶è€Œè®¸å¤šåº”ç”¨éƒ½éœ€è¦åŠ è½½å¹¶æ˜¾ç¤ºæ¥è‡ªè¿œç¨‹ä½ç½®çš„å†…å®¹ã€‚ä¾‹å¦‚æ–°é—»é˜…è¯»å™¨éœ€è¦ä»¥å†…åµŒæ–¹å¼æ˜¾ç¤ºè¿œç¨‹å†…å®¹ï¼Œæˆ–è€…ä»è¿œç¨‹ URL åŠ è½½å¹¶æ˜¾ç¤ºå›¾ç‰‡ã€‚
</p>

<h2 id="loading_external_web_content_into_an_element"><!--@Load external web content-->è½½å…¥å¤–éƒ¨ç½‘ç»œå†…å®¹</h2>

<p><!--@Sites on the internet are inherently a security risk and rendering arbitrary web pages directly into your application with elevated privileges would be a potential source of exploits.-->
äº’è”ç½‘ä¸Šçš„ç«™ç‚¹æœ‰å›ºæœ‰çš„å®‰å…¨é£é™©ï¼Œç›´æ¥åœ¨æ‚¨çš„åº”ç”¨ä¸­ä»¥æå‡çš„æƒé™æ¸²æŸ“ç½‘é¡µæ˜¯æ¼æ´çš„æ½œåœ¨æ¥æºã€‚
</p>

<p><!--@Chrome Apps offer developers the ability
to securely render third-party content in the <code>&lt;webview&gt;</code> tag.
A <a href="webview_tag.html">webview</a>
is like an iframe that you can control with greater flexibility and added security.
It runs in a separate sandboxed process and can&#39;t communicate directly with the application.-->
Chrome åº”ç”¨ä¸ºå¼€å‘è€…æä¾›äº†åœ¨ <code>&lt;webview&gt;</code>
æ ‡ç­¾ä¸­å®‰å…¨æ¸²æŸ“ç¬¬ä¸‰æ–¹å†…å®¹çš„èƒ½åŠ›ã€‚<a href="webview_tag.html">webview</a>
å°±åƒ iframe
ä¸€æ ·ï¼Œä½†æ˜¯æ‚¨èƒ½å¤Ÿæ›´çµæ´»åœ°æ§åˆ¶å®ƒï¼Œå¹¶å…·æœ‰é¢å¤–çš„å®‰å…¨æ€§ã€‚å®ƒåœ¨å•ç‹¬çš„ç»è¿‡æ²™ç›’å±è”½çš„è¿›ç¨‹ä¸­è¿è¡Œï¼Œä¸èƒ½ç›´æ¥ä¸åº”ç”¨é€šä¿¡ã€‚
</p>

<p><!--@The <code>webview</code> has a very simple API.
From your app you can:-->
<code>webview</code> åŒ…å«ä¸€äº›å¾ˆç®€å•çš„ APIï¼Œåœ¨æ‚¨çš„åº”ç”¨ä¸­æ‚¨å¯ä»¥ï¼š
</p>

<ul>
<li> <!--@Change the URL of the <code>webview</code>.-->æ›´æ”¹ <code>webview</code> çš„ URLã€‚</li>
<li> <!--@Navigate forwards and backward, stop loading and reload.-->å‰è¿›å’Œåé€€å¯¼èˆªã€åœæ­¢åŠ è½½å’Œé‡æ–°åŠ è½½ã€‚</li>
<li> <!--@Check if the <code>webview</code> has finished loading and if it is possible, go back and forward in the history stack.-->æ£€æŸ¥ <code>webview</code> æ˜¯å¦åŠ è½½å®Œæˆï¼Œå¦‚æœå¯èƒ½çš„è¯åœ¨å†å²æ ˆä¸­å‰è¿›å’Œåé€€ã€‚</li>
</ul>

<p><!--@We will change our code to render the content of URLs dropped
in the drag-and-drop operations in a <code>webview</code> when the user clicks on a link.-->
æˆ‘ä»¬ä¼šä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œå½“ç”¨æˆ·å•å‡»æŸä¸ªé“¾æ¥æ—¶ï¼Œåœ¨ <code>webview</code> ä¸­æ¸²æŸ“æ‹–æ”¾æ“ä½œä¸­çš„
URL çš„å†…å®¹ã€‚
</p>

<h3 id="manifest"><!--@Update manifest-->æ›´æ–°æ¸…å•æ–‡ä»¶</h3>

<p><!--@Request a new permission, &quot;webview&quot;, in the manifest.-->
åœ¨æ¸…å•æ–‡ä»¶ä¸­è¯·æ±‚ä¸€ä¸ªæ–°çš„æƒé™â€”â€”"webview"ï¼Œ<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/1_webview/manifest.json">AngularJS manifest.json</a> <!--@and-->å’Œ
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/1_webview/manifest.json">JavaScript manifest.json</a> <!--@are the same:-->æ˜¯ä¸€æ ·çš„ï¼š
</p>

<pre data-filename="manifest.json">
&quot;permissions&quot;: [&quot;storage&quot;, &quot;webview&quot;]
</pre>

<h3 id="view"><!--@Update view-->æ›´æ–°è§†å›¾</h3>

<p><!--@Add a <code>&lt;webview&gt;</code> tag and a link to the view:
-->åœ¨è§†å›¾ä¸­æ·»åŠ ä¸€ä¸ª <code>&lt;webview&gt;</code> æ ‡ç­¾å’Œä¸€ä¸ªé“¾æ¥ï¼š<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/1_webview/index.html">AngularJS index.html</a> <!--@or-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/1_webview/index.html">JavaScript index.html</a><!--@:-->ï¼š
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="index.html">
&lt;!-- in TODO item: --&gt;
&lt;a ng-show=&quot;todo.uri&quot; href=&quot;&quot; ng-click=&quot;showUri(todo.uri)&quot;&gt;(view url)&lt;/a&gt;
&lt;!-- at the bottom, below the end of body: --&gt;
&lt;webview&gt;&lt;/webview&gt;
    </pre>
  </content>
  <content>
    <pre data-filename="index.html">
&lt;!-- right after the &quot;dropText&quot; div: --&gt;
&lt;webview&gt;&lt;/webview&gt;
&lt;!-- in the TODO template, right before the end of the li: --&gt;
&lt;a style=&quot;display: none;&quot; href=&quot;&quot;&gt;(view url)&lt;/a&gt;
    </pre>
  </content>

</tabs>

<h3 id="css"><!--@Update stylesheet-->æ›´æ–°æ ·å¼è¡¨</h3>

<p><!--@Set an appropriate width and height to the <code>&lt;webview&gt;</code> tag in
the style sheet.
-->åœ¨æ ·å¼è¡¨ä¸­ä¸º webview æ ‡ç­¾è®¾ç½®åˆé€‚çš„å®½åº¦å’Œé«˜åº¦ï¼ˆé»˜è®¤å¤§å°ä¸ºé›¶ï¼‰ï¼Œ<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/1_webview/todo.css">AngularJS todo.css</a> <!--@and-->å’Œ
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/1_webview/todo.css">JavaScript todo.css</a> <!--@are the same:-->
æ˜¯ä¸€æ ·çš„ï¼š
</p>

<pre data-filename="todo.css">
webview {
  width: 100%;
  height: 200px;
}
</pre>

<h3 id="controller"><!--@Update controller-->æ›´æ–°æ§åˆ¶å™¨</h3>

<p><!--@We now only need to add a method,
<code>showUri</code>, to the-->
æˆ‘ä»¬ç°åœ¨åªéœ€è¦å‘
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/1_webview/controller.js">AngularJS controller.js</a>
æ·»åŠ  <code>showUrl</code>æ–¹æ³•ï¼Œ<!--@or an event handler, <code>showUrl</code>, to the-->æˆ–è€…å‘
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/1_webview/controller.js">JavaScript controller.js</a><!--@.-->
æ·»åŠ ä¸€ä¸ª <code>showUrl</code> äº‹ä»¶å¤„ç†ç¨‹åºã€‚
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="controller.js">
$scope.showUri = function(uri) {
  var webview=document.querySelector(&quot;webview&quot;);
  webview.src=uri;
};
    </pre>
  </content>
  <content>
    <pre data-filename="controller.js">
if(/^http:\/\/|https:\/\//.test(todoObj.text)) {
  var showUrl = el.querySelector('a');
  showUrl.addEventListener('click', function(e) {
    e.preventDefault();
    var webview=document.querySelector("webview");
    webview.src=todoObj.text;
  });
  showUrl.style.display = 'inline';
}
    </pre>
  </content>

</tabs>

<h3 id="results"><!--@Check the results-->æ£€æŸ¥ç»“æœ</h3>

<p><!--@To test, open the app, right-click, and select Reload App.
You should be able to click on the &quot;view url&quot; link
on any dropped URL Todo item,
and the corresponding web page will show in the <code>webview</code>.
If it&#39;s not showing,
inspect the page and check if you set the <code>webview</code> size appropriately.-->
ä¸ºäº†æµ‹è¯•ï¼Œè¯·æ‰“å¼€åº”ç”¨ï¼Œå•å‡»å³é”®ï¼Œå¹¶é€‰æ‹©â€œé‡æ–°åŠ è½½åº”ç”¨â€ã€‚æ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æ‹–æ”¾çš„ URL
å¾…åŠäº‹é¡¹ä¸Šå•å‡»â€œview urlâ€é“¾æ¥ï¼Œç›¸åº”çš„ç½‘é¡µå°±ä¼šæ˜¾ç¤ºåœ¨ <code>webview</code>
ä¸­ã€‚å¦‚æœæ²¡æœ‰æ˜¾ç¤ºçš„è¯ï¼Œå®¡æŸ¥é¡µé¢å¹¶ç¡®è®¤æ‚¨æ­£ç¡®è®¾ç½®äº† <code>webview</code> çš„å¤§å°ã€‚
</p>

<p><!--@If you get stuck and want to see the app in action,
go to <code>chrome://extensions</code>,
load the unpacked-->å¦‚æœæ‚¨é‡åˆ°äº†å›°éš¾ï¼Œå¸Œæœ›ç«‹åˆ»çœ‹åˆ°ä¿®æ”¹åçš„åº”ç”¨ï¼Œè¯·è¿›å…¥
<code>chrome://extensions</code>ï¼ŒåŠ è½½æœªæ‰“åŒ…çš„
<a href="https://github.com/GoogleChrome/chrome-app-codelab/tree/master/lab8_webresources/angularjs/1_webview">AngularJS 1_webview</a> <!--@or-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/tree/master/lab8_webresources/javascript/1_webview">JavaScript 1_webview</a><!--@,
and launch the app from a new tab.-->
ï¼Œå¹¶ä»æ–°æ ‡ç­¾é¡µä¸­è¿è¡Œåº”ç”¨ã€‚
</p>

<h2 id="loading_external_images"><!--@Load external images-->åŠ è½½å¤–éƒ¨å›¾ç‰‡</h2>

<p><!--@If you try to add an <code>&lt;img&gt;</code> tag to your <code>index.html</code>, and point its <code>src</code> attribute to any site on the web, the following exception is thrown in the console and the image isn&#39;t loaded:-->
å¦‚æœæ‚¨è¯•ç€åœ¨ <code>index.html</code> ä¸­æ·»åŠ ä¸€ä¸ª <code>&lt;img&gt;</code>
æ ‡ç­¾ï¼Œå¹¶å°†å®ƒçš„ <code>src</code>
å±æ€§æŒ‡å‘ç½‘ä¸Šçš„ä»»ä½•ä¸€ä¸ªç«™ç‚¹ï¼Œåˆ™ä¼šåœ¨æ§åˆ¶å°ä¸­äº§ç”Ÿå¦‚ä¸‹å¼‚å¸¸ï¼Œå›¾ç‰‡ä¸ä¼šåŠ è½½ï¼š
</p>

<p class="note"><b></b> Refused to load the image &#39;http://angularjs.org/img/AngularJS-large.png&#39; because it violates the following Content Security Policy directive: &quot;img-src &#39;self&#39; data: chrome-extension-resource:&quot;.ï¼ˆæ‹’ç»åŠ è½½å›¾ç‰‡ &#39;http://angularjs.org/img/AngularJS-large.png&#39;ï¼Œå› ä¸ºå®ƒè¿åäº†ä»¥ä¸‹å†…å®¹å®‰å…¨ç­–ç•¥çš„æŒ‡ç¤ºï¼š&quot;img-src &#39;self&#39; data: chrome-extension-resource:&quot;ã€‚ï¼‰</p>

<p><!--@Chrome apps cannot load any external resource directly in the DOM, because of the -->ç”±äº<a href="contentSecurityPolicy.html"><!--@CSP restrictions-->å†…å®¹å®‰å…¨ç­–ç•¥çš„é™åˆ¶</a>ï¼ŒChrome åº”ç”¨ä¸èƒ½ç›´æ¥åœ¨ DOM ä¸­åŠ è½½ä»»ä½•å¤–éƒ¨èµ„æºã€‚</p>

<p><!--@To avoid this restriction, you can use XHR requests, grab the blob corresponding to the remote file and use it appropriately.
For example, <code>&lt;img&gt;</code> tags can use a blob URL.
Let&#39;s change our application to show a small icon in the Todo list if the dropped URL represents an image.-->
ä¸ºäº†é¿å…è¿™ä¸€é™åˆ¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ XHR è¯·æ±‚ï¼Œè·å–è¿œç¨‹æ–‡ä»¶å¯¹åº”çš„
Blobï¼Œå¹¶ä»¥åˆé€‚çš„æ–¹å¼ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œ<code>&lt;img&gt;</code> æ ‡ç­¾å¯ä»¥ä½¿ç”¨ Blob
URLã€‚è®©æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„åº”ç”¨ï¼Œå¦‚æœæ‹–æ”¾çš„ URL
è¡¨ç¤ºå›¾ç‰‡çš„è¯ï¼Œåœ¨å¾…åŠäº‹é¡¹åˆ—è¡¨ä¸­æ˜¾ç¤ºä¸€ä¸ªå°å›¾æ ‡ã€‚
</p>

<h3 id="manifest2"><!--@Update manifest-->æ›´æ–°æ¸…å•æ–‡ä»¶</h3>

<p><!--@Before you start firing XHR requests, you must request permissions.
Since we want to allow users to drag and drop images from any server,
we need to request permission to XHR to any URL.
Change-->
åœ¨æ‚¨å¼€å§‹å‘å‡º XHR è¯·æ±‚å‰ï¼Œæ‚¨å¿…é¡»è¯·æ±‚æƒé™ã€‚å› ä¸ºæˆ‘ä»¬å¸Œæœ›å…è®¸ç”¨æˆ·æ‹–æ”¾æ¥è‡ªä»»æ„æœåŠ¡å™¨çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦è¯·æ±‚å‘ä»»æ„ URL å‘å‡º XHR çš„æƒé™ã€‚ä¿®æ”¹
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/2_loading_resources/manifest.json">AngularJS manifest.json</a> <!--@or-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/manifest.json">JavaScript manifest.json</a><!--@:-->ï¼š
</p>

<pre data-filename="manifest.json">
&quot;permissions&quot;: [&quot;storage&quot;, &quot;webview&quot;, &quot;&lt;all_urls&gt;&quot;]
</pre>

<h3 id="image"><!--@Add image-->æ·»åŠ å›¾ç‰‡</h3>

<p><!--@Add to your project a placeholder image-->
åœ¨æ‚¨çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªå ä½ç¬¦å›¾ç‰‡
<img src="https://github.com/GoogleChrome/chrome-app-codelab/raw/master/lab8_webresources/angularjs/2_loading_resources/loading.gif" alt="loading.gif"><!--@
that will be shown while we are loading the proper image.-->ï¼Œå½“æˆ‘ä»¬åŠ è½½æ­£ç¡®çš„å›¾ç‰‡æ—¶æ˜¾ç¤ºå®ƒã€‚
</p>

<p><!--@Then add the <code>&lt;img&gt;</code> tag to the Todo item on the view:
-->ç„¶ååœ¨è§†å›¾ä¸­å‘å¾…åŠäº‹é¡¹æ·»åŠ  <code>&lt;img&gt;</code> æ ‡ç­¾ï¼š<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/2_loading_resources/index.html">AngularJS index.html</a> <!--@or-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/index.html">JavaScript index_html</a><!--@:-->ï¼š
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="loader.js">
&lt;img style=&quot;max-height: 48px; max-width: 120px;&quot; ng-show=&quot;todo.validImage&quot;
ng-src=&quot;&#123;&#123;todo.imageUrl&#125;&#125;&quot;&gt;&lt;/img&gt;
    </pre>
  </content>
  <content>
    <pre data-filename="loader.js">
&lt;img style=&quot;max-height: 48px; max-width: 120px;&quot;&gt;&lt;/img&gt;
    </pre>
  </content>

</tabs>

<p>
<!--@In the-->åœ¨
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/controller.js">JavaScript controller.js</a><!--@,
add a constant for the placeholder image:-->
ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå ä½ç¬¦å›¾ç‰‡çš„å¸¸é‡ï¼š
</p>

<pre data-filename="controller.js">
const PLACEHOLDER_IMAGE = "loading.gif";
</pre>

<p>
<!--@As you will see soon,
this element is only shown when the <code>validImage</code> attribute of the Todo item is true.-->
æ‚¨å¾ˆå¿«å°±ä¼šçœ‹åˆ°ï¼Œåªæœ‰å½“å¾…åŠäº‹é¡¹çš„ <code>validImage</code> å±æ€§ä¸º true æ—¶æ‰ä¼šæ˜¾ç¤ºè¯¥å…ƒç´ ã€‚
</p>

<h3 id="controller2"><!--@Update controller-->æ›´æ–°æ§åˆ¶å™¨</h3>

<p><!--@Add the method <code>loadImage</code> to a new script file
that will start a XHR request and execute a callback with a Blob URL.-->
æ·»åŠ  loadImage æ–¹æ³•ï¼Œå‘å‡º XHR è¯·æ±‚ï¼Œå¹¶æ‰§è¡Œä¸€ä¸ªæ¥å— Blob URL
çš„å›è°ƒå‡½æ•°ï¼Œ<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/2_loading_resources/loader.js">AngularJS loader.js</a> <!--@and-->å’Œ
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/loader.js">JavaScript loader.js</a> <!--@are the same:-->æ˜¯ä¸€æ ·çš„ï¼š
</p>

<pre data-filename="loader.js">
var loadImage = function(uri, callback) {
  var xhr = new XMLHttpRequest();
  xhr.responseType = &#39;blob&#39;;
  xhr.onload = function() {
    callback(window.webkitURL.createObjectURL(xhr.response), uri);
  }
  xhr.open(&#39;GET&#39;, uri, true);
  xhr.send();
}
</pre>

<p><!--@In the-->åœ¨
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/2_loading_resources/controller.js">AngularJS controller.js</a> <!--@or-->æˆ–
<a href="">JavaScript controller.js</a><!--@,
add a new method that will search the Todo list looking for images that are not loaded yet:-->
ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œæœç´¢å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¯»æ‰¾è¿˜æœªåŠ è½½çš„å›¾ç‰‡ï¼š
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="controller.js">
// for each image with no imageUrl, start a new loader
$scope.loadImages = function() {
  for (var i=0; i&lt;$scope.todos.length; i++) {
    var todo=$scope.todos[i];
    if (todo.validImage &amp;&amp; todo.imageUrl===PLACEHOLDER_IMAGE) {
      loadImage(todo.uri, function(blob_uri, requested_uri) {
        $scope.$apply(function(scope) {
          for (var k=0; k&lt;scope.todos.length; k++) {
            if (scope.todos[k].uri==requested_uri) {
              scope.todos[k].imageUrl = blob_uri;
            }
          }
        });
      });
    }
  }
};
    </pre>
  </content>
  <content>
    <pre data-filename="controller.js">
 var maybeStartImageLoader = function(el, todo) {
    var img = el.querySelector('img');
    if (todo['extras'] && todo.extras.validImage && todo.extras.imageUrl) {
      if (todo.extras.imageUrl===PLACEHOLDER_IMAGE) {
        img.src = PLACEHOLDER_IMAGE;
        img.style.display = 'inline';
        window.loadImage(todo.extras.uri, function(blob_uri, requested_uri) {
          todo.extras.imageUrl = blob_uri;
          img.src = blob_uri;
        });
      } else {
        img.src = todo.extras.imageUrl;
        img.style.display = 'inline';
      }
    } else {
      img.style.display = 'none'; 
    }
  };
    </pre>
  </content>

</tabs>

<p>
<!--@If writing your app in JavaScript,
you will need to call the <code>maybeStartImageLoader</code> function
in the-->
å¦‚æœæ‚¨ä½¿ç”¨ JavaScript ç¼–å†™æ‚¨çš„åº”ç”¨ï¼Œæ‚¨éœ€è¦åœ¨
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/controller.js">JavaScript controller.js</a>
<!--@to update the Todo list from the model:-->
ä¸­è°ƒç”¨ <code>maybeStartImageLoader</code> å‡½æ•°ï¼Œæ ¹æ®æ¨¡å‹æ›´æ–°å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼š
</p>

<pre data-filename="controller.js">
var updateTodo = function(model) {
  var todoElement = list.querySelector('li[data-id="'+model.id+'"]');
  if (todoElement) {
    var checkbox = todoElement.querySelector('input[type="checkbox"]');
    var desc = todoElement.querySelector('span');
    checkbox.checked = model.isDone;
    desc.innerText = model.text;
    desc.className = "done-"+model.isDone;

    // load image, if this ToDo has image data
    maybeStartImageLoader(todoElement, model);
  }
}
</pre>

<p><!--@Then in the -->ç„¶åï¼Œåœ¨
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/angularjs/2_loading_resources/controller.js">AngularJS controller.js</a> <!--@or-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab8_webresources/javascript/2_loading_resources/controller.js">JavaScript.controller.js</a><!--@,-->
çš„
<code>drop()</code> <!--@method,
change the handling of URIs to appropriately detect a valid image.
For simplicity sake, we only tested for png and jpg extensions.
Feel free to have a better coverage in your code.-->
æ–¹æ³•ä¸­ï¼Œä¿®æ”¹ URI çš„å¤„ç†æ–¹å¼ï¼Œé€‚å½“åœ°æ£€æµ‹æœ‰æ•ˆçš„å›¾ç‰‡ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªæµ‹è¯•
png å’Œ jpg æ‰©å±•åï¼Œæ‚¨å¯ä»¥åœ¨æ‚¨çš„ä»£ç ä¸­æ£€æµ‹å…¶ä»–ç±»å‹ã€‚
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="controller.js">
var uri=e.dataTransfer.getData(&quot;text/uri-list&quot;);
var todo = {text:uri, done:false, uri: uri};
if (/.png$/.test(uri) || /.jpg$/.test(uri)) {
  hasImage = true;
  todo.validImage = true;
  todo.imageUrl = PLACEHOLDER_IMAGE;
}
newTodos.push(todo);

// [...] inside the $apply method, before save(), call the loadImages method:
$scope.loadImages();
    </pre>
  </content>
  <content>
    <pre data-filename="controller.js">
var uri = e.dataTransfer.getData("text/uri-list");
var extras = { uri: uri };
if (/\.png$/.test(uri) || /\.jpg$/.test(uri)) {
  hasImage = true;
  extras.validImage = true;
  extras.imageUrl = PLACEHOLDER_IMAGE;
}
model.addTodo(uri, false, extras);
    </pre>
  </content>

</tabs>

<p><!--@And, finally, we will change the load method to reset the Blob URLs,
since Blob URLs don&#39;t span through sessions.
Setting Todo&#39;s imageUrls to the PLACEHOLDER_IMAGE
will force the loadImages method to request them again:-->
æœ€åï¼Œæˆ‘ä»¬è¦ä¿®æ”¹ load æ–¹æ³•ï¼Œé‡æ–°è®¾ç½® Blob URLï¼Œå› ä¸º Blob URL
ä¸ä¼šåœ¨ä¼šè¯é—´ä¿ç•™ã€‚å°†å¾…åŠäº‹é¡¹çš„ imageUrls è®¾ç½®ä¸º PLACEHOLDER_IMAGE å¼ºåˆ¶ä½¿
loadImages æ–¹æ³•å†æ¬¡è¯·æ±‚å®ƒä»¬ï¼š
</p>

<tabs data-group="source">

  <header tabindex="0" data-value="angular">Angular</header>
  <header tabindex="0" data-value="js">JavaScript</header>

  <content>
    <pre data-filename="controller.js">
// If there is saved data in storage, use it. Otherwise, bootstrap with sample todos
$scope.load = function(value) {
  if (value &amp;&amp; value.todolist) {
    // ObjectURLs are revoked when the document is removed from memory,
    // so we need to reload all images.
    for (var i=0; i&lt;value.todolist.length; i++) {
      value.todolist[i].imageUrl = PLACEHOLDER_IMAGE;
    }
    $scope.todos = value.todolist;
    $scope.loadImages();
  } else {
    $scope.todos = [
      {text:&#39;learn angular&#39;, done:true},
      {text:&#39;build an angular app&#39;, done:false}];
  }
}
    </pre>
  </content>
  <content>
    <pre data-filename="controller.js">
/**
 * Listen to changes in the model and trigger the appropriate changes in the view
 **/
model.addListener(function(model, changeType, param) {
  if ( changeType === 'reset' ) {
    // let's invalidate all Blob URLs, since their lifetime is tied to the document's lifetime
    for (var id in model.todos) {
      if (model.todos[id].extras && model.todos[id].extras.validImage) {
        model.todos[id].extras.imageUrl = PLACEHOLDER_IMAGE;
      }
    }
  }

  if ( changeType === 'removed' || changeType === 'archived' || changeType === 'reset') {
    redrawUI(model);
  } else if ( changeType === 'added' ) {
    drawTodo(model.todos[param], list);
  } else if ( changeType === 'stateChanged') {
    updateTodo(model.todos[param]);
  }
  storageSave();
  updateCounters(model);
});
    </pre>
  </content>

</tabs>

<h3 id="results2"><!--@Check the results-->æ£€æŸ¥ç»“æœ</h3>

<p><!--@To test, open the app, right-click, and select Reload App.
Go to-->
ä¸ºäº†æµ‹è¯•ï¼Œæ‰“å¼€åº”ç”¨ï¼Œå•å‡»å³é”®ï¼Œå¹¶é€‰æ‹©é‡æ–°åŠ è½½åº”ç”¨ã€‚è¿›å…¥
<a href="https://www.google.com/imghp?hl=en&amp;tab=wi&amp;authuser=0">Google <!--@images-->å›¾ç‰‡</a><!--@,
search for and select an image,
then drag and drop the image into the Todo list app.
Assuming no mistakes were made,
you should now have a thumbnail of every image URL dropped into the Todo list app.-->ï¼Œæœç´¢å¹¶é€‰æ‹©ä¸€ä¸ªå›¾ç‰‡ï¼Œå¹¶å°†å›¾ç‰‡æ‹–æ”¾åˆ°å¾…åŠäº‹é¡¹åˆ—è¡¨åº”ç”¨ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•é”™è¯¯çš„è¯ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°æ‹–æ”¾åˆ°å¾…åŠäº‹é¡¹åº”ç”¨çš„æ¯ä¸€ä¸ªå›¾ç‰‡
URL çš„ç¼©ç•¥å›¾ã€‚
</p>

<p>
<!--@Notice we are not handling local images dropped from the file manager in this change.
We leave this as a challenge for you.-->
æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸€æ›´æ”¹ä¸­æ²¡æœ‰å¤„ç†ä»æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‹–æ”¾çš„æœ¬åœ°å›¾ç‰‡ï¼Œæˆ‘ä»¬å°†å®ƒä½œä¸ºä¸€é¡¹æŒ‘æˆ˜ç•™ç»™æ‚¨ã€‚
</p>

<p><!--@If you get stuck and want to see the app in action,
go to <code>chrome://extensions</code>, load the unpacked-->
å¦‚æœæ‚¨é‡åˆ°äº†å›°éš¾ï¼Œå¸Œæœ›ç«‹åˆ»çœ‹åˆ°ä¿®æ”¹åçš„åº”ç”¨ï¼Œè¯·è¿›å…¥
<code>chrome://extensions</code>ï¼ŒåŠ è½½æœªæ‰“åŒ…çš„
<a href="https://github.com/GoogleChrome/chrome-app-codelab/tree/master/lab8_webresources/angularjs/2_loading_resources">AngularJS 2_loading_resources</a> <!--@or,-->æˆ–
<a href="https://github.com/GoogleChrome/chrome-app-codelab/tree/master/lab8_webresources/javascript/2_loading_resources">JavaScript 2_loading_resources</a><!--@
and launch the app from a new tab.-->ï¼Œå¹¶ä»æ–°æ ‡ç­¾é¡µä¸­è¿è¡Œåº”ç”¨ã€‚</p>

<p><!--@The-->ä»¥ä¸Šçš„ <code>loadImage()</code> <!--@method above is not the best solution for this problem, because it doesn&#39;t handle errors correctly and it could cache images in a local filesystem.
We've created the-->
æ–¹æ³•å¹¶ä¸æ˜¯è¿™ä¸€é—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä¸èƒ½æ­£ç¡®å¤„ç†é”™è¯¯ï¼Œè¿˜ä¼šå°†å›¾ç‰‡ç¼“å­˜åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚æˆ‘ä»¬å»ºç«‹äº†
<a href="https://github.com/GoogleChrome/apps-resource-loader">apps-resource-loader <!--@library-->åº“</a><!--@
that's much more robust.-->ï¼Œå®ƒçš„å¥å£®æ€§æ›´å¥½ã€‚</p>

<h2 id="takeaways_"><!--@Takeaways:-->æ›´å¤šä¿¡æ¯</h2>

<ul>
<li><p><!--@The--> <code>&lt;webview&gt;</code> <!--@tag allows you to have a controlled browser inside your app.
You can use it if you have part of your application that is not CSP compatible and you don&#39;t have resources to migrate it immediately, for example.
One feature we didn&#39;t mention here is that webviews can communicate with your app and vice-versa using asynchronous-->
æ ‡ç­¾å…è®¸æ‚¨åœ¨æ‚¨çš„åº”ç”¨ä¸­åŒ…å«ä¸€ä¸ªå—æ§çš„æµè§ˆå™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨æœ‰ä¸€éƒ¨åˆ†ä¸å…¼å®¹
CSPï¼Œè€Œä¸”æ‚¨æ²¡æœ‰ç²¾åŠ›é©¬ä¸Šè¿ç§»ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒã€‚æˆ‘ä»¬æ²¡æœ‰åœ¨è¿™é‡Œæåˆ°çš„ä¸€ä¸ªç‰¹æ€§æ˜¯
webview å¯ä»¥ä½¿ç”¨å¼‚æ­¥çš„
<a href="app_external.html#postMessage">postMessages</a><!--@.-->
å’Œæ‚¨çš„åº”ç”¨ï¼ˆæˆ–åè¿‡æ¥ï¼‰é€šä¿¡ã€‚</p></li>
<li><p><!--@Loading resources like images from the web is not straightforward compared to a standard web page.
But it&#39;s not too different from traditional native platforms, where you need to handle the resource download and, only when it is correctly downloaded, you can render it in the UI. We have also developed <a href="https://github.com/GoogleChrome/apps-resource-loader">a sample library</a> to asynchronously handle resource loading from XHR calls. Feel free to use it in your projects.-->
ä¸æ ‡å‡†ç½‘é¡µç›¸æ¯”ï¼Œä»ç½‘ä¸ŠåŠ è½½å›¾ç‰‡ä¹‹ç±»çš„èµ„æºå¹¶ä¸æ˜¯é‚£ä¹ˆç›´ç™½ï¼Œä½†æ˜¯ä¸ä¼ ç»Ÿçš„æœ¬æœºå¹³å°ç›¸æ¯”å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œæ‚¨éƒ½éœ€è¦å¤„ç†èµ„æºä¸‹è½½ï¼Œåªæœ‰å½“å®ƒæ­£ç¡®ä¸‹è½½åæ‰èƒ½åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ˜¾ç¤ºã€‚æˆ‘ä»¬ä¹Ÿå¼€å‘äº†<a href="https://github.com/GoogleChrome/apps-resource-loader">ä¸€ä¸ªç¤ºä¾‹åº“</a>ï¼Œå¼‚æ­¥å¤„ç†ä» XHR è°ƒç”¨åŠ è½½çš„èµ„æºã€‚æ‚¨å¯ä»¥åœ¨æ‚¨çš„é¡¹ç›®ä¸­è‡ªç”±ä½¿ç”¨å®ƒã€‚
</p></li>
</ul>

<h2 id="you_should_also_read"><!--@You should also read-->æ‚¨è¿˜åº”è¯¥é˜…è¯»</h2>

<ul>
<li><a href="webview_tag.html">Webview <!--@Tag-->æ ‡ç­¾ API</a> <!--@reference-->å‚è€ƒ</li>
<li><a href="app_external.html"><!--@Embed Content-->åµŒå…¥å†…å®¹</a><!--@ tutorial-->æ•™ç¨‹</li>
</ul>

<h2 id="what_39_s_next_"><!--@What's next?-->æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ</h2>

<p><!--@In-->åœ¨ <a href="app_codelab_10_publishing.html">8 - <!--@Publish App-->å‘å¸ƒåº”ç”¨</a><!--@,
we finish off with instructions on how to publish your app in the Chrome Web Store.-->ä¸­ï¼Œæˆ‘ä»¬å°†å‘Šè¯‰æ‚¨å¦‚ä½•åœ¨ Chrome ç½‘ä¸Šåº”ç”¨åº—ä¸­å‘å¸ƒæ‚¨çš„åº”ç”¨ï¼Œç»“æŸå®éªŒã€‚
</p>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">â†‘</button>
    <button class="google-button" id="send-feedback" style="display:none">Send Feedback</button>
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        è¯¥é¡µé¢ç¿»è¯‘è‡ª
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        ä¸
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>ã€‚é™¤éç‰¹åˆ«<a href="https://code.google.com/policies.html#restrictions">è¯´æ˜</a>ï¼Œè¯¥é¡µé¢çš„å†…å®¹éµå¾ª
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>ï¼Œä»£ç ç¤ºä¾‹éµå¾ª
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>ã€‚
      </p>
      <p class="crxdoczh-footer">
        <a href="https://code.google.com/p/crxdoczh/">crxdoczh é¡¹ç›®ä¸»é¡µ</a>
        <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">å‘é€åé¦ˆ</a>
        <a href="https:////plus.google.com/112419687097816423998?prsrc=3" rel="publisher">
          Google+ é¡µé¢
        </a>
        <a href="https://plus.google.com/communities/105384952265487436177">Google+ ç¤¾ç¾¤</a>
      </p>
      <script src="https://developer.chrome.com/static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/popup.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/prettify.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/scroll.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/sidebar.js" type="text/javascript"></script>
      <script src="https://developer.chrome.com/static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25062424-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = 'https://ssl.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        window.___gcfg = {
      Â  Â  lang: 'zh-CN'
      Â  };
      Â  (function() {
      Â  Â  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      Â  Â  po.src = 'https://apis.google.com/js/plusone.js';
      Â  Â  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      Â  })();
      </script>
    </div>
  </div>
</html>
