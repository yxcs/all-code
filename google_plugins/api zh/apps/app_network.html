<!DOCTYPE html>
<html>
  <head>
    <title>ç½‘ç»œé€šä¿¡ - Google Chrome åº”ç”¨å¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="../static/css/site.css" rel="stylesheet" type="text/css">
    <link href="../../developer.chrome.com/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../developer.chrome.com/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  </head>

  <body>


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  on  12/24/13 11:31:37.<br>
<b>Address:</b> <a class="info" href="https://crxdoc-zh.appspot.com/apps/app_network.html">https://crxdoc-zh.appspot.com/apps/app_network.html</a><br>
<b>Title:</b> ç½‘ç»œé€šä¿¡ - Google Chrome åº”ç”¨å¼€å‘æ–‡æ¡£ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰ &nbsp;&bull;&nbsp; <b>Size:</b> 25527<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->


    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="apps.html" title="Google Chrome åº”ç”¨" id="view-original">
          <img src="../../developer.chrome.com/static/images/chrome-logo.png" alt=""> chrome
        </a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            åº”ç”¨ &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html"><!--@apps-->åº”ç”¨</button>
            <button class="extensions" data-href="/extensions"><!--@extensions-->æ‰©å±•ç¨‹åº</button>
          </div>
        </div>ï¼ˆéå®˜æ–¹ä¸­æ–‡ç‰ˆï¼‰
      </td>
      <td>
        <ul>
          <li>
            <a href="samples.html"
               title="ç¤ºä¾‹ åº”ç”¨ï¼ˆåŒ…å«æºä»£ç ï¼‰"><!--@Samples-->ç¤ºä¾‹</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-apps"
               title="Google Chrome åº”ç”¨å¼€å‘è€…è®ºå›"
               target="_blank"><!--@Group-->è®ºå›ï¼ˆè‹±æ–‡ï¼‰</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-app/info"
               title="Stack Overflow ä¸Šçš„ [google-chrome-app] æ ‡ç­¾"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <g:plusone></g:plusone>
        <ul 
            class="level1 ">
        <li class="level2">
              <span class="level2">å‘ç°</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="about_apps.html" class="level3 ">ä»€ä¹ˆæ˜¯ Chrome åº”ç”¨ï¼Ÿ</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å¼€å‘</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="first_app.html" class="level3 ">åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªåº”ç”¨</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">æ•™ç¨‹</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">é€šè¿‡ä»£ç å®éªŒå®¤å­¦ä¹ </span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="app_codelab.html" class="level5 ">å…³äºä»£ç å®éªŒå®¤</a>
              </li><li class="level5">
                    <a href="app_codelab1_setup.html" class="level5 ">1ã€è®¾ç½®å¼€å‘ç¯å¢ƒ</a>
              </li><li class="level5">
                    <a href="app_codelab2_basic.html" class="level5 ">2ã€åˆ›å»ºåŸºæœ¬çš„åº”ç”¨</a>
              </li><li class="level5">
                    <a href="app_codelab3_mvc.html" class="level5 ">3ã€åˆ›å»º MVC</a>
              </li><li class="level5">
                    <a href="app_codelab5_data.html" class="level5 ">4ã€ä¿å­˜å’Œè·å–æ•°æ®</a>
              </li><li class="level5">
                    <a href="app_codelab6_lifecycle.html" class="level5 ">5ã€ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸ</a>
              </li><li class="level5">
                    <a href="app_codelab7_useridentification.html" class="level5 ">6ã€è®¿é—®ç”¨æˆ·æ•°æ®</a>
              </li><li class="level5">
                    <a href="app_codelab8_webresources.html" class="level5 ">7ã€è®¿é—®ç½‘ç»œèµ„æº</a>
              </li><li class="level5">
                    <a href="app_codelab_10_publishing.html" class="level5 ">8ã€å‘å¸ƒåº”ç”¨</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">MVC æ¶æ„ä¸æ¡†æ¶</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="app_frameworks.html" class="level5 ">å…³äº MVC æ¶æ„</a>
              </li><li class="level5">
                    <a href="angular_framework.html" class="level5 ">ç”¨ AngularJS å»ºç«‹åº”ç”¨</a>
              </li><li class="level5">
                    <a href="sencha_framework.html" class="level5 ">ç”¨ Sencha Ext JS å»ºç«‹åº”ç”¨</a>
              </li>
              </ul>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Chrome åº”ç”¨çš„æ¦‚å¿µ</span>
                <div class="toggleIndicator level3 toggled"></div>
              </a>
            <ul toggleable
                class="level3 ">
            <li class="level4">
                <a class="button level4">
                  <span class="level4">åŸºç¡€çŸ¥è¯†</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="app_architecture.html" class="level5 ">åº”ç”¨çš„æ¶æ„</a>
              </li><li class="level5">
                    <a href="app_lifecycle.html" class="level5 ">åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸ</a>
              </li><li class="level5">
                    <a href="offline_apps.html" class="level5 ">é¦–å…ˆè€ƒè™‘ç¦»çº¿</a>
              </li><li class="level5">
                    <a href="app_external.html" class="level5 ">å¤–éƒ¨å†…å®¹</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å®‰å…¨æ€§</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="contentSecurityPolicy.html" class="level5 ">å†…å®¹å®‰å…¨ç­–ç•¥</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å°†æ‚¨çš„åº”ç”¨ä¸äº‘ç«¯ç»“åˆ</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                  <a class="button level5">
                    <span class="level5">äº‘æ¶ˆæ¯æœåŠ¡</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="cloudMessaging.html" class="level6 ">å…³äºäº‘æ¶ˆæ¯æœåŠ¡</a>
                </li><li class="level6">
                      <a href="pushMessaging.html" class="level6 ">å®¢æˆ·ç«¯å‚è€ƒ</a>
                </li><li class="level6">
                      <a href="gcm_server.html" class="level6 ">æœåŠ¡å‚è€ƒ</a>
                </li><li class="level6">
                      <a href="gcm_tos.html" class="level6 ">æœåŠ¡æ¡æ¬¾</a>
                </li>
                </ul>
              </li><li class="level5">
                  <a class="button level5">
                    <span class="level5">äº‘å­˜å‚¨æœåŠ¡</span>
                    <div class="toggleIndicator level5"></div>
                  </a>
                <ul toggleable
                    class="level5 hidden">
                <li class="level6">
                      <a href="storage.html" class="level6 ">chrome.storage</a>
                </li>
                </ul>
              </li><li class="level5">
                    <a href="app_identity.html" class="level5 ">ç”¨æˆ·è®¤è¯</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">å­˜å‚¨ä¸è·å–æ•°æ®</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="app_storage.html" class="level5 ">å­˜å‚¨ API</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">ä½¿ç”¨ä½çº§ç³»ç»ŸæœåŠ¡</span>
                  <div class="toggleIndicator level4 toggled"></div>
                </a>
              <ul toggleable
                  class="level4 ">
              <li class="level5">
                    <a href="app_usb.html" class="level5 ">USB</a>
              </li><li class="level5">
                    <a href="app_serial.html" class="level5 ">ä¸²è¡Œç«¯å£</a>
              </li><li class="level5">
                    <a  class="level5 selected">ç½‘ç»œé€šä¿¡</a>
              </li>
              </ul>
            </li><li class="level4">
                <a class="button level4">
                  <span class="level4">ä¸ä¸»æœºå¹³å°äº¤äº’</span>
                  <div class="toggleIndicator level4"></div>
                </a>
              <ul toggleable
                  class="level4 hidden">
              <li class="level5">
                    <a href="desktop_notifications.html" class="level5 ">ä¸°å¯Œçš„é€šçŸ¥</a>
              </li>
              </ul>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å‘å¸ƒ</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="publish_app.html" class="level3 ">å‘å¸ƒæ‚¨çš„åº”ç”¨</a>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">é€šè¿‡æ‚¨çš„åº”ç”¨è·åˆ©</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="google_wallet.html" class="level4 ">ç”¨äºæ•°å­—å•†å“çš„ Google ç”µå­é’±åŒ…</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="analytics.html" class="level3 ">Analyticsï¼ˆåˆ†æï¼‰</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å‚è€ƒ</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="api_index.html" class="level3 ">Chrome å¹³å° API</a>
          </li><li class="level3">
                <a href="tags/webview.html" class="level3 ">Webview æ ‡ç­¾</a>
          </li><li class="level3">
                <a href="api_other.html" class="level3 ">ç½‘é¡µ API</a>
          </li><li class="level3">
                <a href="manifest.html" class="level3 ">æ¸…å•æ–‡ä»¶æ ¼å¼</a>
          </li><li class="level3">
                <a href="app_deprecated.html" class="level3 ">ç¦ç”¨çš„ç½‘é¡µç‰¹æ€§</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">ç¤ºä¾‹</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="samples.html" class="level3 ">ç¤ºä¾‹åº”ç”¨</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">å¸®åŠ©</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="faq.html" class="level3 ">å¸¸è§é—®é¢˜</a>
          </li><li class="level3">
                <a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps" class="level3 ">Google ç½‘ä¸Šè®ºå›</a>
          </li><li class="level3">
                <a href="http://stackoverflow.com/questions/tagged/google-chrome-app" class="level3 ">Stack Overflow</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<div id="toc">
  <ol>
    <li >
      <a href="#manifest"
         data-list-item
         >æ¸…å•æ–‡ä»¶çš„è¦æ±‚</a>
    </li>
    <li >
      <a href="#tcp"
         data-list-item
         >ä½¿ç”¨ TCP</a>
      <ol>
        <li >
          <a href="#connecting"
             data-list-item
             >è¿æ¥åˆ°å¥—æ¥å­—</a>
        </li>
        <li >
          <a href="#reading"
             data-list-item
             >è¯»å–æˆ–å†™å…¥å¥—æ¥å­—</a>
        </li>
        <li >
          <a href="#disconnecting"
             data-list-item
             >æ–­å¼€å¥—æ¥å­—çš„è¿æ¥</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="#udp"
         data-list-item
         >ä½¿ç”¨ UDP</a>
      <ol>
        <li >
          <a href="#sending"
             data-list-item
             >å‘é€æ•°æ®</a>
        </li>
        <li >
          <a href="#receiving"
             data-list-item
             >æ¥æ”¶æ•°æ®</a>
        </li>
      </ol>
    </li>
  </ol>
</div>

<h1><!--@Network Communications-->ç½‘ç»œé€šä¿¡</h1>

<p>
<!--@Chrome Apps can act as a network client
for TCP and UDP connections.
This doc shows you how to use TCP and UDP
to send and receive data over the network.
For more information,
see the 
<a href="https://crxdoc-zh.appspot.com/apps/socket.html">Sockets API</a>.-->
Chrome åº”ç”¨å¯ä»¥ç”¨ä½œ TCP ä¸ UDP è¿æ¥çš„ç½‘ç»œå®¢æˆ·ç«¯ï¼Œè¯¥æ–‡æ¡£å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨
TCP ä¸ UDP åœ¨ç½‘ç»œä¸Šå‘é€ä¸æ¥æ”¶æ•°æ®ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§<a
href="https://crxdoc-zh.appspot.com/apps/socket.html">å¥—æ¥å­— API</a>ã€‚
</p>

<p class="note">
<b>API <!--@Samples: -->ç¤ºä¾‹ï¼š</b><!--@
Want to play with the code?
Check out the-->æƒ³è¯•è¯•è¿™äº›ä»£ç å—ï¼Ÿè¯·å‚è§
<a href="https://github.com/GoogleChrome/chrome-app-samples/tree/master/telnet">telnet</a>
<!--@and-->ä¸ <a href="https://github.com/GoogleChrome/chrome-app-samples/tree/master/udp">udp</a><!--@ samples.-->
ç¤ºä¾‹ã€‚
</p>

<h2 id="manifest"><!--@Manifest requirements-->æ¸…å•æ–‡ä»¶çš„è¦æ±‚</h2>

<p>
<!--@For Chrome Apps that use TCP or UDP,
add the "socket" permission to the manifest
and specify the IP end point permission rules.
For example:-->
å¯¹äºä½¿ç”¨ TCP æˆ– UDP çš„ Chrome åº”ç”¨æ¥è¯´ï¼Œè¯·å‘æ¸…å•æ–‡ä»¶æ·»åŠ 
"socket" æƒé™å¹¶æŒ‡å®š IP ç«¯ç‚¹æƒé™è§„åˆ™ã€‚ä¾‹å¦‚ï¼š
</p>

<pre data-filename="manifest.json">
"permissions": [
    {"socket": [
      "rule1",
      "rule2",
      ...
    ]}
  ]
</pre>

<p>
<!--@The syntax of socket permission rules follows these patterns:-->
å¥—æ¥å­—æƒé™è§„åˆ™çš„è¯­æ³•éµå¾ªå¦‚ä¸‹æ¨¡å¼ï¼š
</p>

<pre>
&lt;socket-permission-rule&gt;
     := &lt;op&gt; | &lt;op&gt; ':' &lt;host&gt; | &lt;op&gt; ':' ':' &lt;port&gt; |
        &lt;op&gt; ':' &lt;host&gt; ':' &lt;port&gt;
 &lt;op&gt; := 'tcp-connect' | 'tcp-listen' | 'udp-bind' | 'udp-send-to'
 &lt;host&gt; := '*' | '*.' &lt;anychar except '/' and '*'&gt;+
 &lt;port&gt; := '*' | &lt;port number between 1 and 65535&gt;)
</pre>

<p>
<!--@Examples of socket permission rules:-->
å¥—æ¥å­—æƒé™è§„åˆ™çš„ä¾‹å­å¦‚ä¸‹ï¼š
</p>

<ul>
  <li>"tcp-connect:*:23" &ndash; <!--@connecting on port 23 of any hosts-->è¿æ¥åˆ°ä»»æ„ä¸»æœºçš„ 23 ç«¯å£</li>
  <li>"tcp-connect:www.example.com:23" &ndash; <!--@connecting port 23 of-->è¿æ¥åˆ° <em>www.example.com</em> çš„ 23 ç«¯å£</li>
  <li>"tcp-connect" &ndash; <!--@connecting any ports of any hosts-->è¿æ¥ä»»æ„ä¸»æœºçš„ä»»æ„ç«¯å£</li>
  <li>"udp-send-to::99" &ndash; <!--@sending UDP packet to port 99 of any hosts-->å‘ä»»æ„ä¸»æœºçš„ 99 ç«¯å£å‘é€ UDP åŒ…</li>
  <li>"udp-bind::8899" &ndash; <!--@binding local port 8899 to receive UDP package-->ç»‘å®šæœ¬åœ°ç«¯å£ 8899 ä»¥æ¥æ”¶ UDP åŒ…</li>
  <li>"tcp-listen::8080" &ndash; <!--@TCP listening on local port 8080-->åœ¨æœ¬æœº 8080 ç«¯å£è¿›è¡Œ TCP ç›‘å¬</li>
</ul>

<h2 id="tcp"><!--@Using-->ä½¿ç”¨ TCP</h2>

<p>
<!--@Chrome Apps can make connections to any service that supports TCP.-->
Chrome åº”ç”¨å¯ä»¥è¿æ¥åˆ°ä»»ä½•æ”¯æŒ TCP çš„æœåŠ¡ã€‚
</p>

<h3 id="connecting"><!--@Connecting to a socket-->è¿æ¥åˆ°å¥—æ¥å­—</h3>

<p>
<!--@Here's a sample showing how to connect
(<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-connect">socket.connect</a>) to a socket:-->
å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ¼”ç¤ºå¦‚ä½•è¿æ¥ï¼ˆ<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-connect">socket.connect</a>ï¼‰åˆ°å¥—æ¥å­—çš„ç¤ºä¾‹ï¼š
</p>

<pre>
chrome.socket.create('tcp', {}, function(createInfo) {
  chrome.socket.connect(createInfo.socketId, IP, PORT, onConnectedCallback);
});
</pre>

<p>
<!--@Keep a handle to the socketId so that
you can later read and write
(<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-write">socket.write</a>) to this socket.-->
ä¿å­˜ socketId çš„å€¼ä»¥ä¾¿æ‚¨å¯ä»¥ä¹‹åè¯»å–æˆ–å†™å…¥ï¼ˆ<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-write">socket.write</a>ï¼‰å¥—æ¥å­—ã€‚
</p>

<pre>
chrome.socket.write(socketId, arrayBuffer, onWriteCompleteCallback);
</pre>

<h3 id="reading"><!--@Reading to & writing from a socket-->è¯»å–æˆ–å†™å…¥å¥—æ¥å­—</h3>

<p>
<!--@Reading (<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-read">socket.read</a>) and writing from a socket uses ArrayBuffer objects.
To learn about ArrayBuffers,
check out the overview,
<a href="https://developer.mozilla.org/en-US/docs/JavaScript_typed_arrays">JavaScript typed arrays</a>,
and the tutorial,
<a href="http://updates.html5rocks.com/2012/06/How-to-convert-ArrayBuffer-to-and-from-String">How to convert ArrayBuffer to and from String</a>.-->
è¯»å–ï¼ˆ<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-read">socket.read</a>ï¼‰æˆ–å†™å…¥å¥—æ¥å­—æ—¶ä½¿ç”¨ ArrayBuffer å¯¹è±¡ã€‚è¦æƒ³äº†è§£ ArrayBufferï¼Œè¯·å‚è§
<a href="https://developer.mozilla.org/en-US/docs/JavaScript_typed_arrays">JavaScript
ç±»å‹åŒ–æ•°ç»„</a>æ¦‚è¿°å’Œ<a href="http://updates.html5rocks.com/2012/06/How-to-convert-ArrayBuffer-to-and-from-String"
>å¦‚ä½•åœ¨ ArrayBuffer å’Œå­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢</a>çš„æ•™ç¨‹ã€‚
</p>

<pre>
chrome.socket.read(socketId, null, function(readInfo) {
  if (readInfo.resultCode &gt; 0) {
    // readInfo.data æ˜¯ä¸€ä¸ª ArrayBuffer å¯¹è±¡ã€‚
  }
});
</pre>

<h3 id="disconnecting"><!--@Disconnecting from a socket-->æ–­å¼€å¥—æ¥å­—çš„è¿æ¥</h3>

<p><!--@Here's how to disconnect (<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-disconnect">socket.disconnect</a>):-->å¦‚ä¸‹æ˜¯æ–­å¼€è¿æ¥ï¼ˆ<a href="https://crxdoc-zh.appspot.com/apps/socket.html#method-disconnect">socket.disconnect</a>ï¼‰çš„æ–¹æ³•ï¼š</p>

<pre>chrome.socket.disconnect(socketId);</pre>

<h2 id="udp"><!--@Using-->ä½¿ç”¨ UDP</h2>

<p>
<!--@Chrome Apps can make connections to any service that supports UDP.-->
Chrome åº”ç”¨å¯ä»¥è¿æ¥åˆ°æ”¯æŒ UDP çš„ä»»ä½•æœåŠ¡ã€‚
</p>

<h3 id="sending"><!--@Sending data-->å‘é€æ•°æ®</h3>

<p>
<!--@Here's a sample showing how to send data
over the network using UDP:-->
å¦‚ä¸‹æ˜¯æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ UDP é€šè¿‡ç½‘ç»œå‘é€æ•°æ®çš„ç¤ºä¾‹ï¼š
</p>

<pre>
// åˆ›å»ºå¥—æ¥å­—
chrome.socket.create('udp', '127.0.0.1', 1337, {},
 function(socketInfo) {
   // å¥—æ¥å­—å·²åˆ›å»ºï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›è¿æ¥åˆ°æœåŠ¡
   var socketId = socketInfo.socketId;
   chrome.socket.connect(socketId, function(result) {
     // å·²è¿æ¥åˆ°å¥—æ¥å­—ï¼Œå‘é€ä¸€äº›æ•°æ®
     chrome.socket.write(socketId, arrayBuffer,
       function(sendInfo) {
         console.log("å·²å†™å…¥å­—èŠ‚æ•°ï¼š" + sendInfo.bytesWritten);
       }
     );
   });
 }
);
</pre>

<h3 id="receiving"><!--@Receiving data-->æ¥æ”¶æ•°æ®</h3>

<p>
<!--@This example is very similar to the 'Sending data' example
with the addition of a special handler in the 'create' method.
The parameter is an object with one value 'onEvent'
that is a function reference to the method
that will be called when data is available on the port.-->
è¿™ä¸€ä¾‹å­ä¸â€œå‘é€æ•°æ®â€çš„ä¾‹å­å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯åœ¨ create
æ–¹æ³•ä¸­å¢åŠ äº†ä¸€ä¸ªç‰¹æ®Šçš„å¤„ç†å‡½æ•°ã€‚è¯¥å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåªåŒ…å«ä¸€ä¸ªå€¼
'onEvent'ï¼Œå†…å®¹ä¸ºä¸€ä¸ªå‡½æ•°å¼•ç”¨ï¼ŒæŒ‡å‘æ•°æ®åœ¨ç«¯å£ä¸Šå¯ç”¨æ—¶è°ƒç”¨çš„æ–¹æ³•ã€‚
</p>

<pre>
// å¤„ç†æ•°æ®å“åº”
var handleDataEvent = function(d) {
  var data = chrome.socket.read(d.socketId);
  console.log(data);
};

// åˆ›å»ºå¥—æ¥å­—
chrome.socket.create('udp', '127.0.0.1', 1337, { onEvent: handleDataEvent },
 function(socketInfo) {
   // å¥—æ¥å­—å·²åˆ›å»ºï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›è¿æ¥åˆ°æœåŠ¡
   var socketId = socketInfo.socketId;
   chrome.socket.connect(socketId, function(result) {
     // å·²è¿æ¥åˆ°å¥—æ¥å­—ï¼Œå‘é€ä¸€äº›æ•°æ®
     chrome.socket.write(socketId, arrayBuffer,
       function(sendInfo) {
         console.log("å·²å†™å…¥å­—èŠ‚æ•°ï¼š" + sendInfo.bytesWritten);
       }
     );
   });
 }
);
</pre>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">â†‘</button>
    <button class="google-button" id="send-feedback" style="display:none">Send Feedback</button>
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        è¯¥é¡µé¢ç¿»è¯‘è‡ª
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        ä¸
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>ã€‚é™¤éç‰¹åˆ«<a href="https://code.google.com/policies.html#restrictions">è¯´æ˜</a>ï¼Œè¯¥é¡µé¢çš„å†…å®¹éµå¾ª
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>ï¼Œä»£ç ç¤ºä¾‹éµå¾ª
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>ã€‚
      </p>
      <p class="crxdoczh-footer">
        <a href="https://code.google.com/p/crxdoczh/">crxdoczh é¡¹ç›®ä¸»é¡µ</a>
        <a href="https://code.google.com/p/crxdoczh/issues/entry?template=%E7%BD%91%E7%AB%99%E5%8F%8D%E9%A6%88">å‘é€åé¦ˆ</a>
        <a href="" rel="publisher">
          Google+ é¡µé¢
        </a>
        <a href="https://plus.google.com/communities/105384952265487436177">Google+ ç¤¾ç¾¤</a>
      </p>
      <script src="../../developer.chrome.com/static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/popup.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/prettify.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/scroll.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/sidebar.js" type="text/javascript"></script>
      <script src="../../developer.chrome.com/static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25062424-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = 'https://ssl.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        window.___gcfg = {
      Â  Â  lang: 'zh-CN'
      Â  };
      Â  (function() {
      Â  Â  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      Â  Â  po.src = 'https://apis.google.com/js/plusone.js';
      Â  Â  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      Â  })();
      </script>
    </div>
  </div>
</html>
